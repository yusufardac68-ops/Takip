<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>LUNOR</title>

    <!-- Mobile & PWA Meta Tags -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#1e293b">
    <link rel="manifest" href="data:application/manifest+json;base64,ewogICJuYW1lIjogIsSwxZ8gVGFraXAgVXlndWxhbWFzxLEiLAogICJzaG9ydF9uYW1lIjogIsSwxZ8gVGFraXAiLAogICJzdGFydF91cmwiOiAiLiIsCiAgImRpc3BsYXkiOiAic3RhbmRhbG9uZSIsCiAgImJhY2tncm91bmRfY29sb3IiOiAiIzBmMTcyYSIsCiAgInRoZW1lX2NvbG9yIjogIiMxZTI5M2IiLAogICJkZXNjcmlwdGlvbiI6ICJLacWfaXNlbCB2ZSB0YWvEsW0gacWfbGVyaW5pemkgdGFraXAgZWRpbi4iLAogICJpY29ucyI6IFsKICAgIHsKICAgICAgInNyYyI6ICJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJad3c2TVRrd0lpSmdlaGdoWkdWc2JHbHVZWEl2YzNSaFkybHVkR2x2Yml4cGJtRnZaR1d4aGMzTTlNVElpTUNJZ1ptRnBiR2wwWVdOaGJ5NWpiMjB2YVdYelpYSmhZMnRuYjJScFpEMGlRM1Z3WkdOelptOXlaV1U2SURFeU56UXlNUzgwTDNSbFkybHVkR2x2YmlJZ1puTnBkMlpwYzNCbFkybHZiMnN2YldGcGJpNW9kWEl0SUgwKyIsCiAgICAgICJzaXplcyI6ICIxOTJ4MTkyIiwKICAgICAgInR5cGUiOiAiaW1hZ2Uvc3ZnK3htbCIKICAgIH0sCiAgICB7CiAgICAgICJzcmMiOiAiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnl3Nk1Ua3dJaUpoWkdWc2JHbHVZWEl2YzNSaFkybHVkR2x2Yml4cGJtRnZaR1d4aGMzTTlNRFVpTUNJZ1ptRnBiR2wwWVdOaGJ5NWpiMjB2YVdYelpYSmhZMnRuYjJScFpEMGlRM1Z3WkdOelptOXlaV1U2SURFeU56UXlNUzgwTDNSbFkybHVkR2x2YmlJZ1puTnBkMlpwYzNCbFkybHZiMnN2YldGcGJpNW9kWEl0SUgwKyIsCiAgICAgICJzaXplcyI6ICI1MTJ4NTEyIiwKICAgICAgInR5cGUiOiAiaW1hZ2Uvc3ZnK3htbCIKICAgIH0KICBdCn0=">
    <link rel="icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAAH0CAIAAABEtEjdAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAE/mlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSfvu78nIGlkPSdXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQnPz4KPHg6eG1wbWV0YSB4bWxuczp4PSdhZG9iZTpuczptZXRhLyc+CjxyZGY6UkRGIHhtbG5zOnJkZj0naHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyc+CgogPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JycKICB4bWxuczpBdHRyaWI9J2h0dHA6Ly9ucy5hdHRyaWJ1dGlvbi5jb20vYWRzLzEuMC8nPgogIDxBdHRyaWI6QWRzPgogICA8cmRmOlNlcT4KICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0nUmVzb3VyY2UnPgogICAgIDxBdHRyaWI6Q3JlYXRlZD4yMDI1LTA5LTA5PC9BdHRyaWI6Q3JlYXRlZD4KICAgICA8QXR0cmliOkV4dElkPjVmOGUyNzE2LTA1ZTQtNDIxNy1hZTA0LTBkYjRkZTQzNmUyMzwvQXR0cmliOkV4dElkPgogICAgIDxBdHRyaWI6RmJJZD41MjUyNjU5MTQxNzk1ODA8L0F0dHJpYjpGYklkPgogICAgIDxBdHRyaWI6VG91Y2hUeXBlPjI8L0F0dHJpYjpUb3VjaFR5cGU+CiAgICA8L3JkZjpsaT4KICAgPC9yZGY6U2VxPgogIDwvQXR0cmliOkFkcz4KIDwvcmRmOkRlc2NyaXB0aW9uPgoKIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgeG1sbnM6ZGM9J2h0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvJz4KICA8ZGM6dGl0bGU+CiAgIDxyZGY6QWx0PgogICAgPHJkZjpsaSB4bWw6bGFuZz0neC1kZWZhdWx0Jz5MdW5vciAuIC0gMzwvcmRmOmxpPgogICA8L3JkZjpBbHQ+CiAgPC9kYzp0aXRsZT4KIDwvcmRmOkRlc2NyaXB0aW9uPgoKIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFi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" />
    <link rel="apple-touch-icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAAH0CAIAAABEtEjdAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAE/mlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSfvu78nIGlkPSdXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQnPz4KPHg6eG1wbWV0YSB4bWxuczp4PSdhZG9iZTpuczptZXRhLyc+CjxyZGY6UkRGIHhtbG5zOnJkZj0naHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyc+CgogPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JycKICB4bWxuczpBdHRyaWI9J2h0dHA6Ly9ucy5hdHRyaWJ1dGlvbi5jb20vYWRzLzEuMC8nPgogIDxBdHRyaWI6QWRzPgogICA8cmRmOlNlcT4KICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0nUmVzb3VyY2UnPgogICAgIDxBdHRyaWI6Q3JlYXRlZD4yMDI1LTA5LTA5PC9BdHRyaWI6Q3JlYXRlZD4KICAgICA8QXR0cmliOkV4dElkPjVmOGUyNzE2LTA1ZTQtNDIxNy1hZTA0LTBkYjRkZTQzNmUyMzwvQXR0cmliOkV4dElkPgogICAgIDxBdHRyaWI6RmJJZD41MjUyNjU5MTQxNzk1ODA8L0F0dHJpYjpGYklkPgogICAgIDxBdHRyaWI6VG91Y2hUeXBlPjI8L0F0dHJpYjpUb3VjaFR5cGU+CiAgICA8L3JkZjpsaT4KICAgPC9yZGY6U2VxPgogIDwvQXR0cmliOkFkcz4KIDwvcmRmOkRlc2NyaXB0aW9uPgoKIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgeG1sbnM6ZGM9J2h0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvJz4KICA8ZGM6dGl0bGU+CiAgIDxyZGY6QWx0PgogICAgPHJkZjpsaSB4bWw6bGFuZz0neC1kZWZhdWx0Jz5MdW5vciAuIC0gMzwvcmRmOmxpPgogICA8L3JkZjpBbHQ+CiAgPC9kYzp0aXRsZT4KIDwvcmRmOkRlc2NyaXB0aW9uPgoKIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFi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" />
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .calendar-day {
            position: relative;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .calendar-day:hover {
            background-color: rgba(150, 136, 227, 0.2);
        }
        .main-nav-link {
            transition: all 0.2s ease-in-out;
        }
        .main-nav-link.active {
            color: white;
            box-shadow: 0 0 12px rgba(59, 130, 246, 0.8), 0 0 4px rgba(59, 130, 246, 1);
            background-color: rgba(59, 130, 246, 0.15);
            border-color: rgba(59, 130, 246, 0.4);
        }
        .calendar-event, .calendar-task {
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 12px;
            width: 100%;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            color: white;
        }
        .calendar-event {
            background-color: rgba(59, 130, 246, 0.8); /* bg-blue-500 */
        }
        .calendar-task {
             background-color: rgba(236, 72, 153, 0.8); /* bg-pink-500 */
        }
        .btn-primary {
            background-color: #9688e3;
            transition: background-color 0.2s ease-in-out;
        }
        .btn-primary:hover {
            background-color: #8273d4; /* Darker shade */
        }
        #drawer-menu.open {
            transform: translateX(0);
        }
        .budget-summary-box.active-box {
            border-color: #a78bfa; /* purple-400 */
            box-shadow: 0 0 15px rgba(167, 139, 250, 0.5);
        }
    </style>
</head>
<body class="bg-gradient-to-br from-gray-900 via-blue-900 to-gray-900 text-gray-200">

    <div id="app-container" class="flex flex-col h-screen">
        
        <header class="w-full bg-gray-800/50 backdrop-blur-sm border-b border-gray-700 p-4 flex items-center justify-between">
            <div class="flex items-center gap-3">
                <img alt="" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAIAAACRXR/mAAAACXBIWXMAABJ0AAASdAHeZh94AAAEtWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSfvu78nIGlkPSdXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQnPz4KPHg6eG1wbWV0YSB4bWxuczp4PSdhZG9iZTpuczptZXRhLyc+CjxyZGY6UkRGIHhtbG5zOnJkZj0naHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyc+CgogPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JycKICB4bWxuczpBdHRyaWI9J2h0dHA6Ly9ucy5hdHRyaWJ1dGlvbi5jb20vYWRzLzEuMC8nPgogIDxBdHRyaWI6QWRzPgogICA8cmRmOlNlcT4KICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0nUmVzb3VyY2UnPgogICAgIDxBdHRyaWI6Q3JlYXRlZD4yMDI1LTA5LTEwPC9BdHRyaWI6Q3JlYXRlZD4KICAgICA8QXR0cmliOkV4dElkPjUyMmY2ZTBiLTAwZDgtNDAyYS04OWFlLTA2NGI3NjE4MzRjMDwvQXR0cmliOkV4dElkPgogICAgIDxBdHRyaWI6RmJJZD41MjUyNjU5MTQxNzk1ODA8L0F0dHJpYjpGYklkPgogICAgIDxBdHRyaWI6VG91Y2hUeXBlPjI8L0F0dHJpYjpUb3VjaFR5cGU+CiAgICA8L3JkZjpsaT4KICAgPC9yZGY6U2VxPgogIDwvQXR0cmliOkFkcz4KIDwvcmRmOkRlc2NyaXB0aW9uPgoKIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgeG1sbnM6ZGM9J2h0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvJz4KICA8ZGM6dGl0bGU+CiAgIDxyZGY6QWx0PgogICAgPHJkZjpsaSB4bWw6bGFuZz0neC1kZWZhdWx0Jz5BZHPEsXogdGFzYXLEsW0gLSAxPC9yZGY6bGk+CiAgIDwvcmRmOkFsdD4KICA8L2RjOnRpdGxlPgogPC9yZGY6RGVzY3JpcHRpb24+CgogPHJkZjpEZXNjcmlwdGlv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" />
                <h1 class="text-2xl font-bold text-white whitespace-nowrap">Ä°ÅŸ Takibi</h1>
            </div>

            <!-- Desktop Nav -->
            <nav class="hidden md:flex items-center justify-center space-x-1">
                <button data-view="homepage-view" class="main-nav-link font-semibold p-3 rounded-xl hover:bg-gray-700 flex items-center gap-2"><span>ğŸ </span><span>Ana Sayfa</span></button>
                <button data-view="apps-view" class="main-nav-link font-semibold p-3 rounded-xl hover:bg-gray-700 flex items-center gap-2"><span>ğŸš€</span><span>Uygulamalar</span></button>
                <button data-view="tasks-view" class="main-nav-link font-semibold p-3 rounded-xl hover:bg-gray-700 flex items-center gap-2"><span>âœ”ï¸</span><span>GÃ¶revler</span></button>
                <button data-view="global-calendar-view" class="main-nav-link font-semibold p-3 rounded-xl hover:bg-gray-700 flex items-center gap-2"><span>ğŸ—“ï¸</span><span>Takvim</span></button>
                <button data-view="canvas-links-view" class="main-nav-link font-semibold p-3 rounded-xl hover:bg-gray-700 flex items-center gap-2"><span>ğŸ¨</span><span>Canvas & Linkler</span></button>
                <button data-view="notes-report-view" class="main-nav-link font-semibold p-3 rounded-xl hover:bg-gray-700 flex items-center gap-2"><span>ğŸ“</span><span>Rapor ve Kodlar</span></button>
                <button data-view="files-view" class="main-nav-link font-semibold p-3 rounded-xl hover:bg-gray-700 flex items-center gap-2"><span>ğŸ“‚</span><span>Dosyalar</span></button>
                <button data-view="pazarlama-view" class="main-nav-link font-semibold p-3 rounded-xl hover:bg-gray-700 flex items-center gap-2"><span>ğŸ“ˆ</span><span>Pazarlama</span></button>
                <button data-view="bÃ¼tÃ§e-view" class="main-nav-link font-semibold p-3 rounded-xl hover:bg-gray-700 flex items-center gap-2"><span>ğŸ’°</span><span>BÃ¼tÃ§e</span></button>
            </nav>
            
            <!-- Mobile Hamburger Button -->
            <div class="md:hidden">
                <button id="open-drawer-btn" class="text-white focus:outline-none p-2 rounded-md hover:bg-gray-700">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
                </button>
            </div>
        </header>

        <!-- Drawer Menu -->
        <div id="drawer-overlay" class="fixed inset-0 bg-black/60 backdrop-blur-sm hidden z-40 md:hidden"></div>
        <div id="drawer-menu" class="fixed top-0 left-0 h-full w-72 bg-gray-900 border-r border-gray-700 shadow-xl transform -translate-x-full transition-transform duration-300 ease-in-out z-50 md:hidden">
            <div class="p-4 flex justify-between items-center border-b border-gray-700">
                <h2 class="text-xl font-bold text-white">MenÃ¼</h2>
                <button id="close-drawer-btn" class="text-gray-400 hover:text-white text-3xl font-bold">&times;</button>
            </div>
            <nav id="mobile-nav" class="flex flex-col p-4 space-y-1">
                <button data-view="homepage-view" class="main-nav-link font-semibold p-3 rounded-xl hover:bg-gray-700 flex items-center gap-3 text-left w-full"><span>ğŸ </span><span>Ana Sayfa</span></button>
                <button data-view="apps-view" class="main-nav-link font-semibold p-3 rounded-xl hover:bg-gray-700 flex items-center gap-3 text-left w-full"><span>ğŸš€</span><span>Uygulamalar</span></button>
                <button data-view="tasks-view" class="main-nav-link font-semibold p-3 rounded-xl hover:bg-gray-700 flex items-center gap-3 text-left w-full"><span>âœ”ï¸</span><span>GÃ¶revler</span></button>
                <button data-view="global-calendar-view" class="main-nav-link font-semibold p-3 rounded-xl hover:bg-gray-700 flex items-center gap-3 text-left w-full"><span>ğŸ—“ï¸</span><span>Takvim</span></button>
                <button data-view="canvas-links-view" class="main-nav-link font-semibold p-3 rounded-xl hover:bg-gray-700 flex items-center gap-3 text-left w-full"><span>ğŸ¨</span><span>Canvas & Linkler</span></button>
                <button data-view="notes-report-view" class="main-nav-link font-semibold p-3 rounded-xl hover:bg-gray-700 flex items-center gap-3 text-left w-full"><span>ğŸ“</span><span>Rapor ve Kodlar</span></button>
                <button data-view="files-view" class="main-nav-link font-semibold p-3 rounded-xl hover:bg-gray-700 flex items-center gap-3 text-left w-full"><span>ğŸ“‚</span><span>Dosyalar</span></button>
                <button data-view="pazarlama-view" class="main-nav-link font-semibold p-3 rounded-xl hover:bg-gray-700 flex items-center gap-3 text-left w-full"><span>ğŸ“ˆ</span><span>Pazarlama</span></button>
                <button data-view="bÃ¼tÃ§e-view" class="main-nav-link font-semibold p-3 rounded-xl hover:bg-gray-700 flex items-center gap-3 text-left w-full"><span>ğŸ’°</span><span>BÃ¼tÃ§e</span></button>
            </nav>
        </div>


        <main class="w-full relative overflow-y-auto flex-grow p-4 sm:p-8">
            <!-- Ana Sayfa GÃ¶rÃ¼nÃ¼mÃ¼ -->
            <div id="homepage-view">
                <h2 class="text-3xl font-bold text-white mb-6">Kontrol Paneli</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <div class="bg-gray-800/50 backdrop-blur-sm p-6 rounded-xl shadow-lg border border-gray-700">
                        <h3 class="text-lg font-semibold text-gray-400">Toplam Uygulama SayÄ±sÄ±</h3>
                        <p id="total-apps-stat" class="text-4xl font-bold text-white mt-2">0</p>
                    </div>
                    <div class="bg-gray-800/50 backdrop-blur-sm p-6 rounded-xl shadow-lg border border-gray-700">
                        <h3 class="text-lg font-semibold text-gray-400">Aktif GÃ¶rev SayÄ±sÄ±</h3>
                        <p id="active-tasks-stat" class="text-4xl font-bold text-white mt-2">0</p>
                    </div>
                     <div class="bg-blue-800/50 backdrop-blur-sm p-6 rounded-xl shadow-lg border border-blue-700">
                        <h3 class="text-lg font-semibold text-blue-300">BÃ¼tÃ§e Ã–zeti (Bakiye)</h3>
                        <p id="homepage-balance-stat" class="text-4xl font-bold text-white mt-2">0 â‚º</p>
                    </div>
                    <div class="bg-gray-800/50 backdrop-blur-sm p-6 rounded-xl shadow-lg border border-gray-700 lg:col-span-2">
                        <h3 class="text-lg font-semibold text-gray-400 mb-3">BugÃ¼nÃ¼n GÃ¶revleri</h3>
                        <ul id="todays-tasks-list" class="space-y-2"></ul>
                    </div>
                    <div class="bg-gray-800/50 backdrop-blur-sm p-6 rounded-xl shadow-lg border border-gray-700">
                        <h3 class="text-lg font-semibold text-gray-400 mb-3">BugÃ¼nÃ¼n Ä°ÅŸleri</h3>
                        <ul id="todays-jobs-list" class="space-y-2"></ul>
                    </div>
                </div>
            </div>

            <!-- Uygulamalar GÃ¶rÃ¼nÃ¼mÃ¼ -->
            <div id="apps-view" class="h-full hidden">
                 <h2 class="text-3xl font-bold text-white mb-6">UygulamalarÄ±m</h2>
                 <div class="mb-6">
                    <button id="show-add-app-modal-btn" class="btn-primary text-white px-5 py-2 rounded-xl font-semibold shadow-md transition-transform transform hover:scale-105">
                        + Uygulama Ekle
                    </button>
                 </div>
                 <div id="apps-list" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6"></div>
                 <h3 class="text-2xl font-bold text-white mt-8 mb-4 border-t border-gray-700 pt-6">Bitenler</h3>
                 <div id="completed-apps-list" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 opacity-70"></div>
            </div>
            
            <!-- GÃ¶revler GÃ¶rÃ¼nÃ¼mÃ¼ -->
            <div id="tasks-view" class="hidden">
                <h2 class="text-3xl font-bold text-white mb-6">Aktif GÃ¶revler</h2>
                <div class="mb-6">
                    <button id="show-add-task-modal-btn" class="btn-primary text-white px-5 py-2 rounded-xl font-semibold shadow-md transition-transform transform hover:scale-105">
                        + GÃ¶rev Ekle
                    </button>
                 </div>
                <div id="tasks-list" class="space-y-3"></div>
                
                <h3 class="text-2xl font-bold text-white mt-8 mb-4 border-t border-gray-700 pt-6">Biten GÃ¶revler</h3>
                <div id="completed-tasks-list" class="space-y-3 opacity-60"></div>
            </div>

            <!-- Takvim GÃ¶rÃ¼nÃ¼mÃ¼ -->
            <div id="global-calendar-view" class="hidden h-full flex flex-col">
                <h2 class="text-3xl font-bold text-white mb-4">Genel Takvim</h2>
                <div class="bg-gray-800/50 backdrop-blur-sm p-4 rounded-xl shadow-lg border border-gray-700 flex flex-col">
                    <div id="global-calendar-header" class="flex justify-between items-center mb-4">
                        <button id="global-prev-month" class="px-3 py-1 bg-gray-700 text-gray-200 rounded-md hover:bg-gray-600">&lt;</button>
                        <h3 id="global-month-year" class="text-xl font-semibold text-white"></h3>
                        <button id="global-next-month" class="px-3 py-1 bg-gray-700 text-gray-200 rounded-md hover:bg-gray-600">&gt;</button>
                    </div>
                    <div class="grid grid-cols-7 gap-2 text-center font-semibold text-sm text-gray-400 mb-2">
                        <div>Pzt</div><div>Sal</div><div>Ã‡ar</div><div>Per</div><div>Cum</div><div>Cmt</div><div>Paz</div>
                    </div>
                    <div id="global-calendar-grid" class="grid grid-cols-7 grid-rows-5 gap-1" style="min-height: 500px;"></div>
                </div>

                <div class="mt-6 bg-gray-800/50 backdrop-blur-sm p-4 rounded-xl shadow-lg border border-gray-700">
                    <h3 class="text-xl font-bold text-white mb-4">Bu AyÄ±n Ä°ÅŸleri</h3>
                    <div id="monthly-events-list" class="space-y-3 max-h-60 overflow-y-auto"></div>
                </div>
            </div>
            
            <!-- Canvas & Linkler GÃ¶rÃ¼nÃ¼mÃ¼ -->
            <div id="canvas-links-view" class="hidden">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <!-- Canvas Column -->
                    <div>
                        <h2 class="text-3xl font-bold text-white mb-6">Canvas</h2>
                        <div class="mb-6">
                            <button id="show-add-canvas-item-modal-btn" class="btn-primary text-white px-5 py-2 rounded-xl font-semibold shadow-md transition-transform transform hover:scale-105">
                                + Ekle
                            </button>
                         </div>
                        <div id="canvas-items-list" class="space-y-3"></div>
                    </div>
                    <!-- Links Column -->
                    <div>
                         <h2 class="text-3xl font-bold text-white mb-6">Linkler</h2>
                        <div class="mb-6">
                            <button id="show-add-link-modal-btn" class="btn-primary text-white px-5 py-2 rounded-xl font-semibold shadow-md transition-transform transform hover:scale-105">
                                + Link Ekle
                            </button>
                         </div>
                        <div id="links-list" class="space-y-3"></div>
                    </div>
                </div>
            </div>

            <!-- Rapor ve Kodlar GÃ¶rÃ¼nÃ¼mÃ¼ -->
            <div id="notes-report-view" class="hidden">
                 <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <!-- Daily Report Column -->
                    <div>
                        <h2 class="text-3xl font-bold text-white mb-6">GÃ¼nlÃ¼k Rapor</h2>
                        <div id="daily-reports-section" class="space-y-6">
                            <!-- Single Report Box -->
                            <div class="bg-gray-800/80 p-4 rounded-xl border border-gray-700">
                                <label for="report-name-select" class="block text-lg font-semibold text-white mb-2">KiÅŸi SeÃ§in</label>
                                <select id="report-name-select" class="w-full bg-gray-700 text-white rounded-md p-2 mb-4 focus:ring-2 focus:ring-purple-500 focus:outline-none">
                                    <option value="yusuf">Yusuf</option>
                                    <option value="sinan">Sinan</option>
                                    <option value="ardahan">Ardahan</option>
                                </select>
                                <label for="daily-report-content" class="block text-lg font-semibold text-white mb-2">GÃ¼nlÃ¼k Rapor Ä°Ã§eriÄŸi</label>
                                <textarea id="daily-report-content" rows="5" class="w-full bg-gray-700 text-white rounded-md p-2 focus:ring-2 focus:ring-purple-500 focus:outline-none" placeholder="BugÃ¼n yapÄ±lan iÅŸleri madde madde yazÄ±n..."></textarea>
                                <button id="save-report-btn" class="mt-2 btn-primary text-white px-4 py-2 rounded-md font-semibold">Kaydet</button>
                            </div>
                        </div>
                        <div class="mt-8 border-t border-gray-700 pt-6">
                            <h3 class="text-2xl font-bold text-white mb-4">TÃ¼m Raporlar</h3>
                            <div id="all-reports-list" class="space-y-4">
                                <!-- All past reports will be dynamically inserted here -->
                            </div>
                        </div>
                    </div>
                    <!-- Codes Column -->
                    <div>
                        <h2 class="text-3xl font-bold text-white mb-6">Kodlar</h2>
                        <div class="mb-6">
                            <button id="show-add-code-modal-btn" class="btn-primary text-white px-5 py-2 rounded-xl font-semibold shadow-md transition-transform transform hover:scale-105">
                                + Kod Ekle
                            </button>
                         </div>
                        <div id="codes-list" class="space-y-4"></div>
                    </div>
                </div>
            </div>


            <!-- Dosyalar GÃ¶rÃ¼nÃ¼mÃ¼ -->
            <div id="files-view" class="hidden">
                <h2 class="text-3xl font-bold text-white mb-6">Dosyalar</h2>
                <div class="mb-6">
                    <button id="show-add-general-file-modal-btn" class="btn-primary text-white px-5 py-2 rounded-xl font-semibold shadow-md transition-transform transform hover:scale-105">
                        + Link Ekle
                    </button>
                 </div>
                <div id="files-list" class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-6"></div>
            </div>

            <!-- Pazarlama GÃ¶rÃ¼nÃ¼mÃ¼ -->
            <div id="pazarlama-view" class="hidden">
                <h2 class="text-3xl font-bold text-white mb-6">Pazarlama</h2>
                <div class="mb-6">
                    <button id="show-add-lead-modal-btn" class="btn-primary text-white px-5 py-2 rounded-xl font-semibold shadow-md transition-transform transform hover:scale-105">
                        + Ä°ÅŸletme Ekle
                    </button>
                </div>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Potansiyel MÃ¼ÅŸteriler -->
                    <div>
                        <h3 class="text-2xl font-bold text-white mb-4">Potansiyel MÃ¼ÅŸteriler</h3>
                         <div class="hidden sm:grid grid-cols-5 gap-4 px-3 py-2 text-sm font-semibold text-gray-400">
                            <span>Ä°ÅŸletme AdÄ±</span>
                            <span>Sorumlu</span>
                            <span>Ä°letiÅŸim</span>
                            <span>SektÃ¶r</span>
                            <span>Durum</span>
                        </div>
                        <div id="leads-list" class="space-y-3">
                            <!-- Leads will be rendered here -->
                        </div>
                    </div>
                    <!-- Aktif MÃ¼ÅŸteriler -->
                    <div>
                        <h3 class="text-2xl font-bold text-white mb-4">Aktif MÃ¼ÅŸteriler</h3>
                        <div id="active-customers-list" class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                            <!-- Active customers will be rendered here -->
                        </div>
                    </div>
                </div>
                 <!-- Tamamlanan MÃ¼ÅŸteriler -->
                <div class="mt-8 border-t border-gray-700 pt-6">
                    <h3 class="text-2xl font-bold text-white mb-4">Tamamlanan MÃ¼ÅŸteriler</h3>
                    <div id="completed-customers-list" class="space-y-3">
                        <!-- Completed customers will be rendered here -->
                    </div>
                </div>
                <!-- Red AlÄ±nan Ä°ÅŸletmeler -->
                <div class="mt-8 border-t border-gray-700 pt-6">
                    <h3 class="text-2xl font-bold text-white mb-4">Red AlÄ±nan Ä°ÅŸletmeler</h3>
                    <div id="rejected-leads-list" class="space-y-3">
                        <!-- Rejected leads will be rendered here -->
                    </div>
                </div>
            </div>

            <!-- BÃ¼tÃ§e GÃ¶rÃ¼nÃ¼mÃ¼ -->
            <div id="bÃ¼tÃ§e-view" class="hidden">
                <h2 class="text-3xl font-bold text-white mb-6">BÃ¼tÃ§e YÃ¶netimi</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8">
                     <div id="total-income-summary-box" class="budget-summary-box bg-green-800/50 p-6 rounded-xl border-2 border-green-700 cursor-pointer transition hover:border-green-400">
                        <h3 class="text-lg font-semibold text-green-300">TÃ¼m Gelirler</h3>
                        <p id="total-income-stat" class="text-2xl lg:text-4xl font-bold text-white mt-2">0 â‚º</p>
                    </div>
                     <div id="regular-income-summary-box" class="budget-summary-box bg-cyan-800/50 p-6 rounded-xl border-2 border-cyan-700 cursor-pointer transition hover:border-cyan-400">
                        <h3 class="text-lg font-semibold text-cyan-300">DÃ¼zenli Gelirler</h3>
                        <p id="regular-income-stat" class="text-2xl lg:text-4xl font-bold text-white mt-2">0 â‚º</p>
                    </div>
                    <div id="normal-expense-summary-box" class="budget-summary-box bg-red-800/50 p-6 rounded-xl border-2 border-red-700 cursor-pointer transition hover:border-red-400">
                        <h3 class="text-lg font-semibold text-red-300">Normal Giderler</h3>
                        <p id="normal-expense-stat" class="text-2xl lg:text-4xl font-bold text-white mt-2">0 â‚º</p>
                    </div>
                    <div id="fixed-expense-summary-box" class="budget-summary-box bg-yellow-800/50 p-6 rounded-xl border-2 border-yellow-700 cursor-pointer transition hover:border-yellow-400">
                        <h3 class="text-lg font-semibold text-yellow-300">Sabit Giderler</h3>
                        <p id="fixed-expense-stat" class="text-2xl lg:text-4xl font-bold text-white mt-2">0 â‚º</p>
                    </div>
                    <div class="bg-blue-800/50 p-6 rounded-xl border-2 border-blue-700">
                        <h3 class="text-lg font-semibold text-blue-300">Bakiye</h3>
                        <p id="balance-stat" class="text-2xl lg:text-4xl font-bold text-white mt-2">0 â‚º</p>
                    </div>
                </div>
                <div class="mb-6 flex space-x-4">
                    <button id="show-add-income-modal-btn" class="bg-green-600 hover:bg-green-700 text-white px-5 py-2 rounded-xl font-semibold shadow-md transition-transform transform hover:scale-105 flex items-center gap-2">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z" clip-rule="evenodd" /></svg>
                        Gelir Ekle
                    </button>
                    <button id="show-add-expense-modal-btn" class="bg-red-600 hover:bg-red-700 text-white px-5 py-2 rounded-xl font-semibold shadow-md transition-transform transform hover:scale-105 flex items-center gap-2">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM7 9a1 1 0 000 2h6a1 1 0 100-2H7z" clip-rule="evenodd" /></svg>
                        Gider Ekle
                    </button>
                    <button id="show-manage-categories-modal-btn" class="bg-purple-600 hover:bg-purple-700 text-white px-5 py-2 rounded-xl font-semibold shadow-md transition-transform transform hover:scale-105 flex items-center gap-2">
                         <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path d="M5 4a1 1 0 00-2 0v7.268a2 2 0 000 3.464V16a1 1 0 102 0v-1.268a2 2 0 000-3.464V4zM11 4a1 1 0 10-2 0v1.268a2 2 0 000 3.464V16a1 1 0 102 0V8.732a2 2 0 000-3.464V4zM16 3a1 1 0 011 1v7.268a2 2 0 010 3.464V16a1 1 0 11-2 0v-1.268a2 2 0 010-3.464V4a1 1 0 011-1z" /></svg>
                        Kategorileri YÃ¶net
                    </button>
                </div>
                <div id="budget-lists-container" class="space-y-8">
                    <div id="income-list-container" class="budget-list-wrapper hidden">
                        <h3 class="text-2xl font-bold text-white mb-4">Normal Gelirler</h3>
                        <div id="income-list" class="space-y-3"></div>
                    </div>
                     <div id="regular-income-list-container" class="budget-list-wrapper hidden">
                        <h3 class="text-2xl font-bold text-white mb-4">DÃ¼zenli Gelirler</h3>
                        <div id="regular-income-list" class="space-y-3"></div>
                    </div>
                    <div id="expense-list-container" class="budget-list-wrapper hidden">
                        <h3 class="text-2xl font-bold text-white mb-4">Normal Giderler</h3>
                        <div id="expense-list" class="space-y-3"></div>
                    </div>
                    <div id="fixed-expense-list-container" class="budget-list-wrapper hidden">
                        <h3 class="text-2xl font-bold text-white mb-4">Sabit Giderler</h3>
                        <div id="fixed-expense-list" class="space-y-3"></div>
                    </div>
                </div>
            </div>

            <!-- Modallar -->
            <div id="add-app-modal" class="fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center hidden z-50 p-4">
                <div class="bg-gray-800 rounded-xl shadow-xl p-6 w-full max-w-md border border-gray-700">
                    <h3 class="text-xl font-bold text-white mb-4">Yeni Uygulama Ekle</h3>
                    <form id="add-app-form" class="space-y-4">
                        <input type="text" id="app-name" class="mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-md p-2 focus:ring-2 focus:ring-purple-500 focus:outline-none" required placeholder="Uygulama AdÄ±">
                        <input type="date" id="app-start-date" class="mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-md p-2 focus:ring-2 focus:ring-purple-500 focus:outline-none" required>
                        <textarea id="app-purpose" rows="3" class="mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-md p-2 focus:ring-2 focus:ring-purple-500 focus:outline-none" required placeholder="AmacÄ±"></textarea>
                        <input type="text" id="app-for-who" class="mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-md p-2 focus:ring-2 focus:ring-purple-500 focus:outline-none" required placeholder="Kim Ä°Ã§in">
                        <div class="flex justify-end space-x-3 pt-4">
                            <button type="button" class="modal-cancel-btn bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-500 font-semibold">Ä°ptal</button>
                            <button type="submit" class="btn-primary text-white px-4 py-2 rounded-md font-semibold">Kaydet</button>
                        </div>
                    </form>
                </div>
            </div>

            <div id="add-event-modal" class="fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center hidden z-50 p-4">
                <div class="bg-gray-800 rounded-xl shadow-xl p-6 w-full max-w-md border border-gray-700">
                    <h3 class="text-xl font-bold text-white mb-2">Ä°ÅŸ Ekle</h3>
                    <p class="text-sm text-gray-400 mb-4">SeÃ§ili Tarih: <span id="selected-event-date" class="font-semibold"></span></p>
                    <form id="add-event-form" class="space-y-4">
                         <input type="text" id="event-job" class="mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-md p-2 focus:ring-2 focus:ring-purple-500 focus:outline-none" required placeholder="Ä°ÅŸ">
                         <input type="text" id="event-assignee" class="mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-md p-2 focus:ring-2 focus:ring-purple-500 focus:outline-none" required placeholder="Sorumlu">
                        <div class="flex justify-end space-x-3 pt-4">
                            <button type="button" class="modal-cancel-btn bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-500 font-semibold">Ä°ptal</button>
                            <button type="submit" class="btn-primary text-white px-4 py-2 rounded-md font-semibold">Ä°ÅŸi Kaydet</button>
                        </div>
                    </form>
                </div>
            </div>

            <div id="edit-event-modal" class="fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center hidden z-50 p-4">
                <div class="bg-gray-800 rounded-xl shadow-xl p-6 w-full max-w-md border border-gray-700">
                    <h3 class="text-xl font-bold text-white mb-4">Ä°ÅŸi DÃ¼zenle</h3>
                    <form id="edit-event-form" class="space-y-4">
                        <input type="hidden" id="edit-event-id">
                        <label for="edit-event-date" class="text-sm text-gray-400">Tarih</label>
                        <input type="date" id="edit-event-date" class="mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-md p-2 focus:ring-2 focus:ring-purple-500 focus:outline-none" required>
                        <input type="text" id="edit-event-job" class="mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-md p-2 focus:ring-2 focus:ring-purple-500 focus:outline-none" required placeholder="Ä°ÅŸ">
                        <input type="text" id="edit-event-assignee" class="mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-md p-2 focus:ring-2 focus:ring-purple-500 focus:outline-none" required placeholder="Sorumlu">
                        <div class="flex justify-end space-x-3 pt-4">
                            <button type="button" class="modal-cancel-btn bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-500 font-semibold">Ä°ptal</button>
                            <button type="submit" class="btn-primary text-white px-4 py-2 rounded-md font-semibold">GÃ¼ncelle</button>
                        </div>
                    </form>
                </div>
            </div>
            
            <div id="edit-task-modal" class="fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center hidden z-50 p-4">
                <div class="bg-gray-800 rounded-xl shadow-xl p-6 w-full max-w-md border border-gray-700">
                    <h3 class="text-xl font-bold text-white mb-4">GÃ¶revi DÃ¼zenle</h3>
                    <form id="edit-task-form" class="space-y-4">
                        <input type="hidden" id="edit-task-id">
                        <input type="text" id="edit-task-name" class="mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-md p-2 focus:ring-2 focus:ring-purple-500 focus:outline-none" required placeholder="GÃ¶rev AdÄ±">
                         <label for="edit-task-assignee" class="text-sm text-gray-400">Sorumlu</label>
                        <select id="edit-task-assignee" class="mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-md p-2 focus:ring-2 focus:ring-purple-500 focus:outline-none" required>
                            <option value="Yusuf">Yusuf</option>
                            <option value="Sinan">Sinan</option>
                            <option value="Ardahan">Ardahan</option>
                        </select>
                        <label for="edit-task-start-date" class="text-sm text-gray-400">BaÅŸlangÄ±Ã§ Tarihi</label>
                        <input type="date" id="edit-task-start-date" class="mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-md p-2 focus:ring-2 focus:ring-purple-500 focus:outline-none" required>
                        <label for="edit-task-end-date" class="text-sm text-gray-400">BitiÅŸ Tarihi</label>
                        <input type="date" id="edit-task-end-date" class="mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-md p-2 focus:ring-2 focus:ring-purple-500 focus:outline-none" required>
                        <div class="flex justify-end space-x-3 pt-4">
                            <button type="button" class="modal-cancel-btn bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-500 font-semibold">Ä°ptal</button>
                            <button type="submit" class="btn-primary text-white px-4 py-2 rounded-md font-semibold">GÃ¼ncelle</button>
                        </div>
                    </form>
                </div>
            </div>

            <div id="add-task-modal" class="fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center hidden z-50 p-4">
                <div class="bg-gray-800 rounded-xl shadow-xl p-6 w-full max-w-md border border-gray-700">
                    <h3 class="text-xl font-bold text-white mb-4">Yeni GÃ¶rev Ekle</h3>
                    <form id="add-task-form" class="space-y-4">
                        <input type="text" id="task-name" class="mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-md p-2 focus:ring-2 focus:ring-purple-500 focus:outline-none" required placeholder="GÃ¶rev AdÄ±">
                        <label for="task-assignee" class="text-sm text-gray-400">Sorumlu</label>
                        <select id="task-assignee" class="mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-md p-2 focus:ring-2 focus:ring-purple-500 focus:outline-none" required>
                            <option value="Yusuf">Yusuf</option>
                            <option value="Sinan">Sinan</option>
                            <option value="Ardahan">Ardahan</option>
                        </select>
                        <label for="task-start-date" class="text-sm text-gray-400">BaÅŸlangÄ±Ã§ Tarihi</label>
                        <input type="date" id="task-start-date" class="mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-md p-2 focus:ring-2 focus:ring-purple-500 focus:outline-none" required>
                        <label for="task-end-date" class="text-sm text-gray-400">BitiÅŸ Tarihi</label>
                        <input type="date" id="task-end-date" class="mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-md p-2 focus:ring-2 focus:ring-purple-500 focus:outline-none" required>
                        <div class="flex justify-end space-x-3 pt-4">
                            <button type="button" class="modal-cancel-btn bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-500 font-semibold">Ä°ptal</button>
                            <button type="submit" class="btn-primary text-white px-4 py-2 rounded-md font-semibold">Kaydet</button>
                        </div>
                    </form>
                </div>
            </div>
            
            <div id="upload-file-modal" class="fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center hidden z-50 p-4">
                <div class="bg-gray-800 rounded-xl shadow-xl p-6 w-full max-w-md border border-gray-700">
                    <h3 class="text-xl font-bold text-white mb-4">Uygulamaya Link Ekle</h3>
                    <form id="upload-file-form" class="space-y-4">
                        <input type="text" id="file-link-title" class="mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-md p-2 focus:ring-2 focus:ring-purple-500 focus:outline-none" required placeholder="Link BaÅŸlÄ±ÄŸÄ±">
                        <input type="url" id="file-link-url" class="mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-md p-2 focus:ring-2 focus:ring-purple-500 focus:outline-none" required placeholder="https://dosya-linki.com">
                        <div class="flex justify-end space-x-3 pt-4">
                            <button type="button" class="modal-cancel-btn bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-500 font-semibold">Ä°ptal</button>
                            <button type="submit" class="btn-primary text-white px-4 py-2 rounded-md font-semibold">Ekle</button>
                        </div>
                    </form>
                </div>
            </div>

            <div id="add-general-file-modal" class="fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center hidden z-50 p-4">
                <div class="bg-gray-800 rounded-xl shadow-xl p-6 w-full max-w-md border border-gray-700">
                    <h3 class="text-xl font-bold text-white mb-4">Yeni Link Ekle</h3>
                    <form id="add-general-file-form" class="space-y-4">
                        <input type="text" id="general-file-title" class="mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-md p-2 focus:ring-2 focus:ring-purple-500 focus:outline-none" required placeholder="Link BaÅŸlÄ±ÄŸÄ±">
                        <input type="url" id="general-file-url" class="mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-md p-2 focus:ring-2 focus:ring-purple-500 focus:outline-none" required placeholder="https://dosya-linki.com">
                        <div class="flex justify-end space-x-3 pt-4">
                            <button type="button" class="modal-cancel-btn bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-500 font-semibold">Ä°ptal</button>
                            <button type="submit" class="btn-primary text-white px-4 py-2 rounded-md font-semibold">Kaydet</button>
                        </div>
                    </form>
                </div>
            </div>
            
            <div id="add-canvas-item-modal" class="fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center hidden z-50 p-4">
                <div class="bg-gray-800 rounded-xl shadow-xl p-6 w-full max-w-md border border-gray-700">
                    <h3 class="text-xl font-bold text-white mb-4">Canvas'a Ekle</h3>
                    <form id="add-canvas-item-form" class="space-y-4">
                        <input type="text" id="canvas-item-title" class="mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-md p-2 focus:ring-2 focus:ring-purple-500 focus:outline-none" required placeholder="BaÅŸlÄ±k">
                        <input type="url" id="canvas-item-link" class="mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-md p-2 focus:ring-2 focus:ring-purple-500 focus:outline-none" placeholder="Link (isteÄŸe baÄŸlÄ±)">
                        <div class="flex justify-end space-x-3 pt-4">
                            <button type="button" class="modal-cancel-btn bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-500 font-semibold">Ä°ptal</button>
                            <button type="submit" class="btn-primary text-white px-4 py-2 rounded-md font-semibold">Kaydet</button>
                        </div>
                    </form>
                </div>
            </div>
            
             <div id="add-link-modal" class="fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center hidden z-50 p-4">
                <div class="bg-gray-800 rounded-xl shadow-xl p-6 w-full max-w-md border border-gray-700">
                    <h3 class="text-xl font-bold text-white mb-4">Yeni Link Ekle</h3>
                    <form id="add-link-form" class="space-y-4">
                        <input type="text" id="link-item-title" class="mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-md p-2 focus:ring-2 focus:ring-purple-500 focus:outline-none" required placeholder="BaÅŸlÄ±k">
                        <input type="url" id="link-item-url" class="mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-md p-2 focus:ring-2 focus:ring-purple-500 focus:outline-none" required placeholder="https://ornek.com">
                        <div class="flex justify-end space-x-3 pt-4">
                            <button type="button" class="modal-cancel-btn bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-500 font-semibold">Ä°ptal</button>
                            <button type="submit" class="btn-primary text-white px-4 py-2 rounded-md font-semibold">Kaydet</button>
                        </div>
                    </form>
                </div>
            </div>

             <div id="add-code-modal" class="fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center hidden z-50 p-4">
                <div class="bg-gray-800 rounded-xl shadow-xl p-6 w-full max-w-lg border border-gray-700">
                    <h3 class="text-xl font-bold text-white mb-4">Yeni Kod Ekle</h3>
                    <form id="add-code-form" class="space-y-4">
                        <input type="text" id="code-title" class="mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-md p-2 focus:ring-2 focus:ring-purple-500 focus:outline-none" required placeholder="BaÅŸlÄ±k">
                        <input type="url" id="code-link" class="mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-md p-2 focus:ring-2 focus:ring-purple-500 focus:outline-none" required placeholder="https://github.com/..."/>
                        <div class="flex justify-end space-x-3 pt-4">
                            <button type="button" class="modal-cancel-btn bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-500 font-semibold">Ä°ptal</button>
                            <button type="submit" class="btn-primary text-white px-4 py-2 rounded-md font-semibold">Kaydet</button>
                        </div>
                    </form>
                </div>
            </div>

            <div id="edit-report-modal" class="fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center hidden z-50 p-4">
                <div class="bg-gray-800 rounded-xl shadow-xl p-6 w-full max-w-lg border border-gray-700">
                    <h3 class="text-xl font-bold text-white mb-4">Raporu DÃ¼zenle</h3>
                    <form id="edit-report-form" class="space-y-4">
                        <input type="hidden" id="edit-report-id">
                        <textarea id="edit-report-content" rows="10" class="mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-md p-2 focus:ring-2 focus:ring-purple-500 focus:outline-none" required></textarea>
                        <div class="flex justify-end space-x-3 pt-4">
                            <button type="button" class="modal-cancel-btn bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-500 font-semibold">Ä°ptal</button>
                            <button type="submit" class="btn-primary text-white px-4 py-2 rounded-md font-semibold">GÃ¼ncelle</button>
                        </div>
                    </form>
                </div>
            </div>

            <div id="add-completion-note-modal" class="fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center hidden z-50 p-4">
                <div class="bg-gray-800 rounded-xl shadow-xl p-6 w-full max-w-lg border border-gray-700">
                    <h3 class="text-xl font-bold text-white mb-4">GÃ¶revi Tamamla</h3>
                    <form id="add-completion-note-form" class="space-y-4">
                        <input type="hidden" id="completion-task-id">
                        <textarea id="completion-note-description" rows="8" class="mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-md p-2 focus:ring-2 focus:ring-purple-500 focus:outline-none" required placeholder="GÃ¶revin tamamlanmasÄ±na iliÅŸkin notunuzu girin..."></textarea>
                        <div class="flex justify-end space-x-3 pt-4">
                            <button type="button" class="modal-cancel-btn bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-500 font-semibold">Ä°ptal</button>
                            <button type="submit" class="btn-primary text-white px-4 py-2 rounded-md font-semibold">Tamamla</button>
                        </div>
                    </form>
                </div>
            </div>
            
            <div id="add-income-modal" class="fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center hidden z-50 p-4">
                <div class="bg-gray-800 rounded-xl shadow-xl p-6 w-full max-w-md border border-gray-700">
                    <h3 class="text-xl font-bold text-white mb-4">Yeni Gelir Ekle</h3>
                    <form id="add-income-form" class="space-y-4">
                        <input type="text" id="income-description" class="mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-md p-2 focus:ring-2 focus:ring-green-500 focus:outline-none" required placeholder="AÃ§Ä±klama">
                        <input type="number" id="income-amount" class="mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-md p-2 focus:ring-2 focus:ring-green-500 focus:outline-none" required placeholder="Tutar (â‚º)" min="0" step="0.01">
                        <input type="date" id="income-date" class="mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-md p-2 focus:ring-2 focus:ring-green-500 focus:outline-none" required>
                        <div>
                            <label for="income-type" class="block text-sm font-medium text-gray-400">Gelir TÃ¼rÃ¼</label>
                            <select id="income-type" class="mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-md p-2 focus:ring-2 focus:ring-green-500 focus:outline-none">
                                <option value="normal" selected>Normal Gelir</option>
                                <option value="regular">DÃ¼zenli Gelir</option>
                            </select>
                        </div>
                        <div id="income-frequency-container" class="hidden">
                            <label for="income-frequency" class="block text-sm font-medium text-gray-400">SÄ±klÄ±k</label>
                            <select id="income-frequency" class="mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-md p-2 focus:ring-2 focus:ring-green-500 focus:outline-none">
                                <option value="daily">GÃ¼nlÃ¼k</option>
                                <option value="weekly">HaftalÄ±k</option>
                                <option value="monthly">AylÄ±k</option>
                                <option value="yearly">YÄ±llÄ±k</option>
                            </select>
                        </div>
                        <div class="flex justify-end space-x-3 pt-4">
                            <button type="button" class="modal-cancel-btn bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-500 font-semibold">Ä°ptal</button>
                            <button type="submit" class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md font-semibold">Kaydet</button>
                        </div>
                    </form>
                </div>
            </div>
            
            <div id="add-expense-modal" class="fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center hidden z-50 p-4">
                <div class="bg-gray-800 rounded-xl shadow-xl p-6 w-full max-w-md border border-gray-700">
                    <h3 class="text-xl font-bold text-white mb-4">Yeni Gider Ekle</h3>
                    <form id="add-expense-form" class="space-y-4">
                        <input type="text" id="expense-description" class="mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-md p-2 focus:ring-2 focus:ring-red-500 focus:outline-none" required placeholder="AÃ§Ä±klama">
                        <input type="number" id="expense-amount" class="mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-md p-2 focus:ring-2 focus:ring-red-500 focus:outline-none" required placeholder="Tutar (â‚º)" min="0" step="0.01">
                        <input type="date" id="expense-date" class="mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-md p-2 focus:ring-2 focus:ring-red-500 focus:outline-none" required>
                        
                        <div>
                            <label for="expense-category" class="block text-sm font-medium text-gray-400">Kategori</label>
                            <select id="expense-category" class="mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-md p-2 focus:ring-2 focus:ring-red-500 focus:outline-none">
                                <option value="">Kategori SeÃ§in</option>
                            </select>
                        </div>

                        <div>
                            <label for="expense-type" class="block text-sm font-medium text-gray-400">Gider TÃ¼rÃ¼</label>
                            <select id="expense-type" class="mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-md p-2 focus:ring-2 focus:ring-red-500 focus:outline-none">
                                <option value="normal" selected>Normal Gider</option>
                                <option value="fixed">Sabit Gider</option>
                            </select>
                        </div>

                        <div id="expense-frequency-container" class="hidden">
                            <label for="expense-frequency" class="block text-sm font-medium text-gray-400">SÄ±klÄ±k</label>
                            <select id="expense-frequency" class="mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-md p-2 focus:ring-2 focus:ring-red-500 focus:outline-none">
                                <option value="daily">GÃ¼nlÃ¼k</option>
                                <option value="weekly">HaftalÄ±k</option>
                                <option value="monthly">AylÄ±k</option>
                                <option value="yearly">YÄ±llÄ±k</option>
                            </select>
                        </div>

                        <div class="flex justify-end space-x-3 pt-4">
                            <button type="button" class="modal-cancel-btn bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-500 font-semibold">Ä°ptal</button>
                            <button type="submit" class="bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md font-semibold">Kaydet</button>
                        </div>
                    </form>
                </div>
            </div>

             <div id="manage-categories-modal" class="fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center hidden z-50 p-4">
                <div class="bg-gray-800 rounded-xl shadow-xl p-6 w-full max-w-md border border-gray-700">
                    <h3 class="text-xl font-bold text-white mb-4">Gider Kategorilerini YÃ¶net</h3>
                    <div id="category-list" class="space-y-2 mb-4 max-h-60 overflow-y-auto">
                        <!-- Categories will be rendered here -->
                    </div>
                    <form id="add-category-form" class="flex items-center gap-3">
                        <input type="text" id="category-name" class="block w-full bg-gray-700 border-gray-600 text-white rounded-md p-2 focus:ring-2 focus:ring-purple-500 focus:outline-none" required placeholder="Yeni Kategori AdÄ±">
                        <button type="submit" class="bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-md font-semibold">Ekle</button>
                    </form>
                     <div class="flex justify-end pt-4">
                        <button type="button" class="modal-cancel-btn bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-500 font-semibold">Kapat</button>
                    </div>
                </div>
            </div>

            <div id="add-lead-modal" class="fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center hidden z-50 p-4">
                <div class="bg-gray-800 rounded-xl shadow-xl p-6 w-full max-w-md border border-gray-700">
                    <h3 class="text-xl font-bold text-white mb-4">Yeni Potansiyel MÃ¼ÅŸteri Ekle</h3>
                    <form id="add-lead-form" class="space-y-4">
                        <input type="text" id="lead-business-name" class="mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-md p-2 focus:ring-2 focus:ring-purple-500 focus:outline-none" required placeholder="Ä°ÅŸletme AdÄ±">
                        <input type="text" id="lead-contact-person" class="mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-md p-2 focus:ring-2 focus:ring-purple-500 focus:outline-none" required placeholder="Sorumlu KiÅŸi">
                        <input type="text" id="lead-contact-info" class="mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-md p-2 focus:ring-2 focus:ring-purple-500 focus:outline-none" required placeholder="Ä°letiÅŸim (Tel/E-posta)">
                        <input type="text" id="lead-sector" class="mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-md p-2 focus:ring-2 focus:ring-purple-500 focus:outline-none" required placeholder="SektÃ¶r">
                        <div class="flex justify-end space-x-3 pt-4">
                            <button type="button" class="modal-cancel-btn bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-500 font-semibold">Ä°ptal</button>
                            <button type="submit" class="btn-primary text-white px-4 py-2 rounded-md font-semibold">Kaydet</button>
                        </div>
                    </form>
                </div>
            </div>
            
             <div id="edit-lead-modal" class="fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center hidden z-50 p-4">
                <div class="bg-gray-800 rounded-xl shadow-xl p-6 w-full max-w-md border border-gray-700">
                    <h3 class="text-xl font-bold text-white mb-4">MÃ¼ÅŸteriyi DÃ¼zenle</h3>
                    <form id="edit-lead-form" class="space-y-4">
                        <input type="hidden" id="edit-lead-id">
                        <input type="text" id="edit-lead-business-name" class="mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-md p-2 focus:ring-2 focus:ring-purple-500 focus:outline-none" required placeholder="Ä°ÅŸletme AdÄ±">
                        <input type="text" id="edit-lead-contact-person" class="mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-md p-2 focus:ring-2 focus:ring-purple-500 focus:outline-none" required placeholder="Sorumlu KiÅŸi">
                        <input type="text" id="edit-lead-contact-info" class="mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-md p-2 focus:ring-2 focus:ring-purple-500 focus:outline-none" required placeholder="Ä°letiÅŸim (Tel/E-posta)">
                        <input type="text" id="edit-lead-sector" class="mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-md p-2 focus:ring-2 focus:ring-purple-500 focus:outline-none" required placeholder="SektÃ¶r">
                        <div class="flex justify-end space-x-3 pt-4">
                            <button type="button" class="modal-cancel-btn bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-500 font-semibold">Ä°ptal</button>
                            <button type="submit" class="btn-primary text-white px-4 py-2 rounded-md font-semibold">GÃ¼ncelle</button>
                        </div>
                    </form>
                </div>
            </div>
        </main>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, doc, addDoc, setDoc, onSnapshot, collection, query, deleteDoc, updateDoc, serverTimestamp, arrayUnion } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
        import { getStorage, ref, deleteObject } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-storage.js";

        const firebaseConfig = {
          apiKey: "AIzaSyD7pjFyUcRGuc5u7cnp6mKV93wGlmG4aus",
          authDomain: "is-takip-857d0.firebaseapp.com",
          projectId: "is-takip-857d0",
          storageBucket: "is-takip-857d0.appspot.com",
          messagingSenderId: "1049179260564",
         appId: "1:1049179260564:web:87451ec04eb7a7b9759681"
        };
        
        const appId = firebaseConfig.projectId;
        
        // DOM Elements
        const appsList = document.getElementById('apps-list');
        const completedAppsList = document.getElementById('completed-apps-list');
        const tasksList = document.getElementById('tasks-list');
        const completedTasksList = document.getElementById('completed-tasks-list');
        const canvasItemsList = document.getElementById('canvas-items-list');
        const linksList = document.getElementById('links-list');
        const filesList = document.getElementById('files-list');
        const monthlyEventsList = document.getElementById('monthly-events-list');
        const codesList = document.getElementById('codes-list');
        const allReportsList = document.getElementById('all-reports-list');
        const incomeList = document.getElementById('income-list');
        const regularIncomeList = document.getElementById('regular-income-list');
        const expenseList = document.getElementById('expense-list');
        const fixedExpenseList = document.getElementById('fixed-expense-list');
        const categoryList = document.getElementById('category-list');
        const leadsList = document.getElementById('leads-list');
        const activeCustomersList = document.getElementById('active-customers-list');
        const rejectedLeadsList = document.getElementById('rejected-leads-list');
        const completedCustomersList = document.getElementById('completed-customers-list');


        const addAppModal = document.getElementById('add-app-modal');
        const addEventModal = document.getElementById('add-event-modal');
        const editEventModal = document.getElementById('edit-event-modal');
        const addTaskModal = document.getElementById('add-task-modal');
        const editTaskModal = document.getElementById('edit-task-modal');
        const uploadFileModal = document.getElementById('upload-file-modal');
        const addCanvasItemModal = document.getElementById('add-canvas-item-modal');
        const addLinkModal = document.getElementById('add-link-modal');
        const addGeneralFileModal = document.getElementById('add-general-file-modal');
        const addCodeModal = document.getElementById('add-code-modal');
        const editReportModal = document.getElementById('edit-report-modal');
        const addCompletionNoteModal = document.getElementById('add-completion-note-modal');
        const addIncomeModal = document.getElementById('add-income-modal');
        const addExpenseModal = document.getElementById('add-expense-modal');
        const manageCategoriesModal = document.getElementById('manage-categories-modal');
        const addLeadModal = document.getElementById('add-lead-modal');
        const editLeadModal = document.getElementById('edit-lead-modal');

        const showAddAppModalBtn = document.getElementById('show-add-app-modal-btn');
        const showAddTaskModalBtn = document.getElementById('show-add-task-modal-btn');
        const showAddCanvasItemModalBtn = document.getElementById('show-add-canvas-item-modal-btn');
        const showAddLinkModalBtn = document.getElementById('show-add-link-modal-btn');
        const showAddGeneralFileModalBtn = document.getElementById('show-add-general-file-modal-btn');
        const showAddCodeModalBtn = document.getElementById('show-add-code-modal-btn');
        const showAddIncomeModalBtn = document.getElementById('show-add-income-modal-btn');
        const showAddExpenseModalBtn = document.getElementById('show-add-expense-modal-btn');
        const showManageCategoriesModalBtn = document.getElementById('show-manage-categories-modal-btn');
        const showAddLeadModalBtn = document.getElementById('show-add-lead-modal-btn');
        
        // Modal Cancel Buttons
        document.querySelectorAll('.modal-cancel-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                btn.closest('.fixed.z-50').classList.add('hidden');
            });
        });

        // Forms
        const addAppForm = document.getElementById('add-app-form');
        const addEventForm = document.getElementById('add-event-form');
        const editEventForm = document.getElementById('edit-event-form');
        const addTaskForm = document.getElementById('add-task-form');
        const editTaskForm = document.getElementById('edit-task-form');
        const uploadFileForm = document.getElementById('upload-file-form');
        const addGeneralFileForm = document.getElementById('add-general-file-form');
        const addCanvasItemForm = document.getElementById('add-canvas-item-form');
        const addLinkForm = document.getElementById('add-link-form');
        const addCodeForm = document.getElementById('add-code-form');
        const editReportForm = document.getElementById('edit-report-form');
        const addCompletionNoteForm = document.getElementById('add-completion-note-form');
        const addIncomeForm = document.getElementById('add-income-form');
        const addExpenseForm = document.getElementById('add-expense-form');
        const addCategoryForm = document.getElementById('add-category-form');
        const addLeadForm = document.getElementById('add-lead-form');
        const editLeadForm = document.getElementById('edit-lead-form');
        
        // Calendar
        const globalCalendarGrid = document.getElementById('global-calendar-grid');
        const globalMonthYearDisplay = document.getElementById('global-month-year');
        const globalPrevMonthBtn = document.getElementById('global-prev-month');
        const globalNextMonthBtn = document.getElementById('global-next-month');
        const selectedEventDateSpan = document.getElementById('selected-event-date');
        
        // Stats
        const totalAppsStat = document.getElementById('total-apps-stat');
        const activeTasksStat = document.getElementById('active-tasks-stat');
        const todaysTasksList = document.getElementById('todays-tasks-list');
        const todaysJobsList = document.getElementById('todays-jobs-list');
        const homepageBalanceStat = document.getElementById('homepage-balance-stat');
        const totalIncomeStat = document.getElementById('total-income-stat');
        const regularIncomeStat = document.getElementById('regular-income-stat');
        const normalExpenseStat = document.getElementById('normal-expense-stat');
        const fixedExpenseStat = document.getElementById('fixed-expense-stat');
        const balanceStat = document.getElementById('balance-stat');

        // Budget Summary Boxes
        const totalIncomeSummaryBox = document.getElementById('total-income-summary-box');
        const regularIncomeSummaryBox = document.getElementById('regular-income-summary-box');
        const normalExpenseSummaryBox = document.getElementById('normal-expense-summary-box');
        const fixedExpenseSummaryBox = document.getElementById('fixed-expense-summary-box');

        // Global State
        let db, auth, storage;
        let unsubscribes = [];
        let allUserTasks = [], allCanvasItems = [], allLinks = [], allFiles = [], allCodes = [], allDailyReports = [], allIncome = [], allExpenses = [], allExpenseCategories = [], allLeads = [];
        let totalAppsCount = 0;
        let globalCalendarDate = new Date();
        let selectedDateForEvent = null;
        let currentDocIdForUpload = null;

        try {
            const app = initializeApp(firebaseConfig);
            db = getFirestore(app);
            auth = getAuth(app);
            storage = getStorage(app);
        } catch (e) { console.error("Firebase baÅŸlatma hatasÄ±:", e); }
        
        onAuthStateChanged(auth, async (user) => {
            if (user) {
                initializeListeners();
            } else {
                 try { await signInAnonymously(auth); } 
                 catch (error) { console.error("Anonim giriÅŸ yapÄ±lamadÄ±:", error); }
            }
        });

        function initializeListeners() {
            unsubscribes.forEach(unsub => unsub());
            unsubscribes = [];

            const addListener = (path, callback, errorCallback) => {
                const unsubscribe = onSnapshot(query(collection(db, path)), callback, errorCallback);
                unsubscribes.push(unsubscribe);
            };

            addListener(`/artifacts/${appId}/public/data/tasks`, (snapshot) => {
                allUserTasks = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
                if (document.getElementById('homepage-view').offsetParent !== null) renderHomepage();
                if (document.getElementById('global-calendar-view').offsetParent !== null) renderGlobalCalendar();
                if (document.getElementById('tasks-view').offsetParent !== null) renderTasks();
            }, (error) => console.error("GÃ¶revler alÄ±nÄ±rken hata:", error));
            
            addListener(`/artifacts/${appId}/public/data/applications`, (snapshot) => {
                totalAppsCount = snapshot.docs.length;
                renderApplications(snapshot.docs);
                if (document.getElementById('homepage-view').offsetParent !== null) renderHomepage();
            }, (error) => console.error("Uygulamalar alÄ±nÄ±rken hata:", error));
            
            addListener(`/artifacts/${appId}/public/data/canvasItems`, (snapshot) => {
                allCanvasItems = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
                if (document.getElementById('canvas-links-view').offsetParent !== null) renderCanvasItems();
            }, (error) => console.error("Canvas Ã¶ÄŸeleri alÄ±nÄ±rken hata:", error));
            
            addListener(`/artifacts/${appId}/public/data/links`, (snapshot) => {
                allLinks = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
                if (document.getElementById('canvas-links-view').offsetParent !== null) renderLinks();
            }, (error) => console.error("Linkler alÄ±nÄ±rken hata:", error));
            
            addListener(`/artifacts/${appId}/public/data/files`, (snapshot) => {
                allFiles = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
                if (document.getElementById('files-view').offsetParent !== null) renderFiles();
            }, (error) => console.error("Dosyalar alÄ±nÄ±rken hata:", error));

             addListener(`/artifacts/${appId}/public/data/codes`, (snapshot) => {
                allCodes = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() })).sort((a, b) => b.createdAt?.toMillis() - a.createdAt?.toMillis());
                if (document.getElementById('notes-report-view').offsetParent !== null) renderCodes();
            }, (error) => console.error("Kodlar alÄ±nÄ±rken hata:", error));
            
             addListener(`/artifacts/${appId}/public/data/dailyReports`, (snapshot) => {
                allDailyReports = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
                if (document.getElementById('notes-report-view').offsetParent !== null) renderDailyReports();
            }, (error) => console.error("GÃ¼nlÃ¼k raporlar alÄ±nÄ±rken hata:", error));
            
            addListener(`/artifacts/${appId}/public/data/income`, (snapshot) => {
                allIncome = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
                if (document.getElementById('bÃ¼tÃ§e-view').offsetParent !== null) renderBudget();
                if (document.getElementById('homepage-view').offsetParent !== null) renderHomepage();
            }, (error) => console.error("Gelirler alÄ±nÄ±rken hata:", error));

            addListener(`/artifacts/${appId}/public/data/expenses`, (snapshot) => {
                allExpenses = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
                if (document.getElementById('bÃ¼tÃ§e-view').offsetParent !== null) renderBudget();
                 if (document.getElementById('homepage-view').offsetParent !== null) renderHomepage();
            }, (error) => console.error("Giderler alÄ±nÄ±rken hata:", error));

            addListener(`/artifacts/${appId}/public/data/expenseCategories`, (snapshot) => {
                allExpenseCategories = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
                renderCategoryManagementList();
                updateCategoryDropdown();
            }, (error) => console.error("Kategoriler alÄ±nÄ±rken hata:", error));
            
             addListener(`/artifacts/${appId}/public/data/marketingLeads`, (snapshot) => {
                allLeads = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
                if (document.getElementById('pazarlama-view').offsetParent !== null) renderMarketing();
            }, (error) => console.error("Pazarlama verileri alÄ±nÄ±rken hata:", error));
        }
        
        const mainNavLinks = document.querySelectorAll('.main-nav-link');
        const views = document.querySelectorAll('main > div[id$="-view"]');
        const switchView = (viewId) => {
            views.forEach(view => view.classList.add('hidden'));
            document.getElementById(viewId).classList.remove('hidden');
            mainNavLinks.forEach(link => link.classList.toggle('active', link.dataset.view === viewId));
            
            if (viewId === 'homepage-view') renderHomepage();
            if (viewId === 'global-calendar-view') renderGlobalCalendar();
            if (viewId === 'tasks-view') renderTasks();
            if (viewId === 'canvas-links-view') {
                renderCanvasItems();
                renderLinks();
            }
            if (viewId === 'notes-report-view') {
                renderDailyReports();
                renderCodes();
            }
            if (viewId === 'files-view') renderFiles();
            if (viewId === 'pazarlama-view') renderMarketing();
            if (viewId === 'bÃ¼tÃ§e-view') {
                renderBudget();
                showBudgetList('total-income'); 
            }
        };

        const openDrawerBtn = document.getElementById('open-drawer-btn');
        const closeDrawerBtn = document.getElementById('close-drawer-btn');
        const drawerMenu = document.getElementById('drawer-menu');
        const drawerOverlay = document.getElementById('drawer-overlay');

        function openDrawer() {
            drawerMenu.classList.add('open');
            drawerOverlay.classList.remove('hidden');
        }

        function closeDrawer() {
            drawerMenu.classList.remove('open');
            drawerOverlay.classList.add('hidden');
        }

        openDrawerBtn.addEventListener('click', openDrawer);
        closeDrawerBtn.addEventListener('click', closeDrawer);
        drawerOverlay.addEventListener('click', closeDrawer);

        mainNavLinks.forEach(link => {
            link.addEventListener('click', () => {
                switchView(link.dataset.view);
                if (link.closest('#mobile-nav')) {
                    closeDrawer();
                }
            });
        });
        
        switchView('homepage-view');

        function renderHomepage() {
            const today = new Date();
            today.setHours(0, 0, 0, 0);
            const todayStr = today.toISOString().split('T')[0];
            totalAppsStat.textContent = totalAppsCount;
            const activeTasks = allUserTasks.filter(t => t.type === 'task' && t.status !== 'completed');
            activeTasksStat.textContent = activeTasks.length;
            const todaysTasks = allUserTasks.filter(t => {
                if (t.type !== 'task' || t.status === 'completed') return false;
                const startDate = new Date(t.startDate + 'T00:00:00');
                const endDate = new Date(t.endDate + 'T00:00:00');
                return today >= startDate && today <= endDate;
            });
            todaysTasksList.innerHTML = todaysTasks.length > 0 ? todaysTasks.map(task => `<li class="text-sm text-gray-300 bg-pink-500/20 p-2 rounded-md"><span class="font-semibold">${task.name}</span> - Sorumlu: ${task.assignee}</li>`).join('') : '<li class="text-sm text-gray-500">BugÃ¼n iÃ§in planlanmÄ±ÅŸ aktif gÃ¶rev yok.</li>';
            const todaysJobs = allUserTasks.filter(t => t.type === 'event' && t.dueDate === todayStr);
            todaysJobsList.innerHTML = todaysJobs.length > 0 ? todaysJobs.map(job => `<li class="text-sm text-gray-300 bg-blue-500/20 p-2 rounded-md"><span class="font-semibold">${job.job}</span> - Sorumlu: ${job.assignee}</li>`).join('') : '<li class="text-sm text-gray-500">BugÃ¼n iÃ§in planlanmÄ±ÅŸ iÅŸ yok.</li>';
            
            // Update homepage budget stat
            const totalIncome = allIncome.reduce((sum, item) => sum + item.amount, 0);
            const totalExpense = allExpenses.reduce((sum, item) => sum + item.amount, 0);
            const balance = totalIncome - totalExpense;
            homepageBalanceStat.textContent = formatCurrency(balance);
             homepageBalanceStat.classList.toggle('text-red-400', balance < 0);
            homepageBalanceStat.classList.toggle('text-white', balance >= 0);
        }

        showAddAppModalBtn.addEventListener('click', () => addAppModal.classList.remove('hidden'));
        showAddTaskModalBtn.addEventListener('click', () => addTaskModal.classList.remove('hidden'));
        showAddCanvasItemModalBtn.addEventListener('click', () => addCanvasItemModal.classList.remove('hidden'));
        showAddLinkModalBtn.addEventListener('click', () => addLinkModal.classList.remove('hidden'));
        showAddGeneralFileModalBtn.addEventListener('click', () => addGeneralFileModal.classList.remove('hidden'));
        showAddCodeModalBtn.addEventListener('click', () => addCodeModal.classList.remove('hidden'));
        showManageCategoriesModalBtn.addEventListener('click', () => manageCategoriesModal.classList.remove('hidden'));
        showAddLeadModalBtn.addEventListener('click', () => addLeadModal.classList.remove('hidden'));
        
        showAddIncomeModalBtn.addEventListener('click', () => {
            addIncomeForm.reset();
            document.getElementById('income-date').valueAsDate = new Date();
            document.getElementById('income-frequency-container').classList.add('hidden');
            addIncomeModal.classList.remove('hidden');
        });
        showAddExpenseModalBtn.addEventListener('click', () => {
            addExpenseForm.reset();
            document.getElementById('expense-date').valueAsDate = new Date();
            document.getElementById('expense-frequency-container').classList.add('hidden');
            addExpenseModal.classList.remove('hidden');
        });

        function openAddEventModal(date) {
            addEventForm.reset();
            selectedDateForEvent = date;
            selectedEventDateSpan.textContent = new Date(date + 'T00:00:00').toLocaleDateString('tr-TR', { year: 'numeric', month: 'long', day: 'numeric'});
            addEventModal.classList.remove('hidden');
        }
        
        function renderApplications(appDocs) {
            const activeApps = appDocs.filter(doc => doc.data().status !== 'Bitti');
            const completedApps = appDocs.filter(doc => doc.data().status === 'Bitti');

            const createAppCardHTML = (doc) => {
                const appData = doc.data();
                const docId = doc.id;
                const filesHTML = (appData.files && appData.files.length > 0) 
                    ? `<div class="flex flex-wrap gap-2 mt-2">${appData.files.map(file => `<a href="${file.url}" target="_blank" class="text-blue-400 hover:underline text-xs break-all">ğŸ”— ${file.name}</a>`).join('')}</div>` 
                    : '<span class="text-xs text-gray-500">Dosya yok</span>';
                
                return `
                <div class="bg-gray-800/80 p-4 rounded-xl shadow-lg border border-gray-700 flex flex-col justify-between h-full">
                    <div>
                        <h4 class="font-bold text-lg text-white truncate">${appData.name}</h4>
                        <p class="text-xs text-gray-500 mt-1">BaÅŸlangÄ±Ã§: ${new Date(appData.startDate + 'T00:00:00').toLocaleDateString('tr-TR')}</p>
                        <p class="text-sm text-gray-300 mt-2 text-ellipsis overflow-hidden h-10"><strong class="font-semibold text-gray-200">AmaÃ§:</strong> ${appData.purpose}</p>
                    </div>
                    <div class="mt-4 flex flex-col space-y-3">
                         <div class="border-t border-gray-700/50 pt-2">
                            ${filesHTML}
                        </div>
                        <div class="flex items-center justify-between gap-2">
                             <select data-id="${docId}" class="status-select text-xs w-full bg-gray-700/80 border-gray-600 text-white rounded-md p-2 focus:ring-2 focus:ring-purple-500 focus:outline-none">
                                <option value="TasarlandÄ±" ${appData.status === 'TasarlandÄ±' ? 'selected' : ''}>TasarlandÄ±</option>
                                <option value="BaÅŸladÄ±" ${appData.status === 'BaÅŸladÄ±' ? 'selected' : ''}>BaÅŸladÄ±</option>
                                <option value="Revize ediliyor" ${appData.status === 'Revize ediliyor' ? 'selected' : ''}>Revize ediliyor</option>
                                <option value="DosyalandÄ±" ${appData.status === 'DosyalandÄ±' ? 'selected' : ''}>DosyalandÄ±</option>
                                <option value="Firebase entegrasyonu" ${appData.status === 'Firebase entegrasyonu' ? 'selected' : ''}>Firebase</option>
                                <option value="Bitti" ${appData.status === 'Bitti' ? 'selected' : ''}>Bitti</option>
                            </select>
                            <button data-id="${docId}" class="add-file-btn flex-shrink-0 bg-blue-600/80 hover:bg-blue-700 text-white p-2 rounded-md text-xs font-bold">+</button>
                            <button data-id="${docId}" class="delete-app-btn flex-shrink-0 bg-red-600/80 hover:bg-red-700 text-white p-2 rounded-md text-xs font-bold">Sil</button>
                        </div>
                    </div>
                </div>`;
            };

            appsList.innerHTML = activeApps.length > 0 ? activeApps.map(createAppCardHTML).join('') : '<p class="text-gray-500 text-center col-span-full">Aktif uygulama bulunmuyor.</p>';
            completedAppsList.innerHTML = completedApps.length > 0 ? completedApps.map(createAppCardHTML).join('') : '<p class="text-gray-500 text-center col-span-full">Biten uygulama bulunmuyor.</p>';

            document.querySelectorAll('.status-select').forEach(el => el.addEventListener('change', handleAppUpdate));
            document.querySelectorAll('.delete-app-btn').forEach(el => el.addEventListener('click', handleDeleteApp));
            document.querySelectorAll('.add-file-btn').forEach(el => el.addEventListener('click', showUploadModal));
        }
        
        addAppForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const appsCollectionPath = `/artifacts/${appId}/public/data/applications`;
            try {
                await addDoc(collection(db, appsCollectionPath), {
                    name: document.getElementById('app-name').value.trim(), 
                    startDate: document.getElementById('app-start-date').value, 
                    purpose: document.getElementById('app-purpose').value.trim(), 
                    forWho: document.getElementById('app-for-who').value.trim(),
                    status: 'TasarlandÄ±', files: [], createdAt: serverTimestamp()
                });
                addAppForm.reset(); addAppModal.classList.add('hidden');
            } catch (error) { console.error("Uygulama ekleme hatasÄ±:", error); }
        });

        async function handleAppUpdate(e) {
            const docId = e.target.dataset.id;
            const appDocPath = `/artifacts/${appId}/public/data/applications/${docId}`;
            let dataToUpdate = {};
            if(e.target.classList.contains('status-select')) dataToUpdate.status = e.target.value;
            try { await updateDoc(doc(db, appDocPath), dataToUpdate); } 
            catch (error) { console.error("Uygulama gÃ¼ncelleme hatasÄ±:", error); }
        }

        async function handleDeleteApp(e) {
            const docId = e.target.dataset.id;
            const appDocPath = `/artifacts/${appId}/public/data/applications/${docId}`;
            try { await deleteDoc(doc(db, appDocPath)); } 
            catch (error) { console.error("Uygulama silme hatasÄ±:", error); }
        }
        
        function showUploadModal(e) {
            currentDocIdForUpload = e.target.dataset.id;
            uploadFileForm.reset();
            uploadFileModal.classList.remove('hidden');
        }

        uploadFileForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const submitBtn = uploadFileForm.querySelector('button[type="submit"]');
            const title = document.getElementById('file-link-title').value.trim();
            const url = document.getElementById('file-link-url').value.trim();

            if (!title || !url || !currentDocIdForUpload) return;

            submitBtn.disabled = true;
            submitBtn.textContent = 'Ekleniyor...';

            try {
                const appDocPath = `/artifacts/${appId}/public/data/applications/${currentDocIdForUpload}`;
                await updateDoc(doc(db, appDocPath), { files: arrayUnion({ name: title, url: url }) });
                uploadFileModal.classList.add('hidden');
            } catch (error) {
                console.error("Uygulamaya link ekleme hatasÄ±:", error);
                console.error("Link eklenirken bir hata oluÅŸtu.");
            } finally {
                submitBtn.disabled = false;
                submitBtn.textContent = 'Ekle';
            }
        });

        function renderTasks() {
            const activeTasks = allUserTasks.filter(t => t.type === 'task' && t.status !== 'completed').sort((a,b) => new Date(a.startDate) - new Date(b.startDate));
            const completedTasks = allUserTasks.filter(t => t.type === 'task' && t.status === 'completed').sort((a,b) => {
                const dateA = a.completedAt ? a.completedAt.toMillis() : 0;
                const dateB = b.completedAt ? b.completedAt.toMillis() : 0;
                return dateB - dateA;
            });

            const createTaskCardHTML = (task) => {
                return `
                <div class="bg-gray-800/80 p-4 rounded-xl shadow-md border border-gray-700 flex flex-col justify-between">
                    <div>
                        <p class="font-semibold text-white">${task.name}</p>
                        <p class="text-sm text-gray-400 mt-1">Sorumlu: ${task.assignee}</p>
                    </div>
                    <div class="mt-3 pt-2 border-t border-gray-600">
                        <p class="text-xs font-semibold text-gray-300">${new Date(task.startDate + 'T00:00:00').toLocaleDateString('tr-TR')} - ${new Date(task.endDate + 'T00:00:00').toLocaleDateString('tr-TR')}</p>
                        <div class="flex items-center justify-end gap-2 mt-2">
                            <button data-id="${task.id}" class="complete-task-btn bg-green-600 hover:bg-green-700 text-white px-2 py-1 text-xs rounded-md">Tamamla</button>
                            <button data-id="${task.id}" class="edit-task-btn text-gray-400 hover:text-blue-400 p-1"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.5L16.732 3.732z"></path></svg></button>
                            <button data-id="${task.id}" class="delete-task-btn text-gray-400 hover:text-red-500 p-1"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" /></svg></button>
                        </div>
                    </div>
                </div>
                `;
            };
            
            tasksList.innerHTML = activeTasks.length === 0 
                ? '<p class="text-gray-500 text-center">Aktif gÃ¶rev bulunmuyor.</p>' 
                : `<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">${activeTasks.map(createTaskCardHTML).join('')}</div>`;
            
            completedTasksList.innerHTML = completedTasks.length === 0 
                ? '' 
                : `<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">${completedTasks.map(task => {
                    const completionNoteHTML = task.completionNote ? `<p class="text-xs text-gray-400 mt-2 border-t border-gray-600 pt-2"><strong class="font-semibold">Not:</strong> ${task.completionNote}</p>` : '';
                    return `
                    <div class="bg-gray-800/50 p-4 rounded-xl shadow-md border border-gray-700/50">
                        <div class="flex justify-between items-start">
                            <div>
                                <p class="font-semibold text-gray-400 line-through">${task.name}</p>
                                <p class="text-sm text-gray-500 line-through">Sorumlu: ${task.assignee}</p>
                            </div>
                            <button data-id="${task.id}" class="delete-task-btn text-gray-500 hover:text-red-500 transition"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" /></svg></button>
                        </div>
                        ${completionNoteHTML}
                    </div>`;
                }).join('')}</div>`;

            document.querySelectorAll('.complete-task-btn').forEach(btn => btn.addEventListener('click', showCompleteTaskModal));
            document.querySelectorAll('.delete-task-btn').forEach(btn => btn.addEventListener('click', handleDeleteTask));
            document.querySelectorAll('.edit-task-btn').forEach(btn => btn.addEventListener('click', showEditTaskModal));
        }

        addTaskForm.addEventListener('submit', async(e) => {
             e.preventDefault();
             if(new Date(document.getElementById('task-start-date').value) > new Date(document.getElementById('task-end-date').value)) { 
                console.error("BitiÅŸ tarihi baÅŸlangÄ±Ã§ tarihinden Ã¶nce olamaz!");
                return;
             }
             const tasksCollectionPath = `/artifacts/${appId}/public/data/tasks`;
             try {
                await addDoc(collection(db, tasksCollectionPath), { 
                    name: document.getElementById('task-name').value.trim(), 
                    assignee: document.getElementById('task-assignee').value, 
                    startDate: document.getElementById('task-start-date').value, 
                    endDate: document.getElementById('task-end-date').value, 
                    type: 'task', 
                    status: 'active', 
                    createdAt: serverTimestamp() 
                });
                addTaskForm.reset(); addTaskModal.classList.add('hidden');
            } catch (error) { console.error("GÃ¶rev ekleme hatasÄ±:", error); }
        });

        function showEditTaskModal(e) {
            const taskId = e.currentTarget.dataset.id;
            const task = allUserTasks.find(t => t.id === taskId);
            if(task) {
                document.getElementById('edit-task-id').value = taskId;
                document.getElementById('edit-task-name').value = task.name;
                document.getElementById('edit-task-assignee').value = task.assignee;
                document.getElementById('edit-task-start-date').value = task.startDate;
                document.getElementById('edit-task-end-date').value = task.endDate;
                editTaskModal.classList.remove('hidden');
            }
        }

        editTaskForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const taskId = document.getElementById('edit-task-id').value;
            if(!taskId) return;
            if(new Date(document.getElementById('edit-task-start-date').value) > new Date(document.getElementById('edit-task-end-date').value)) { 
                console.error("BitiÅŸ tarihi baÅŸlangÄ±Ã§ tarihinden Ã¶nce olamaz!");
                return;
            }
            const taskDocPath = `/artifacts/${appId}/public/data/tasks/${taskId}`;
            const updatedData = { 
                name: document.getElementById('edit-task-name').value.trim(), 
                assignee: document.getElementById('edit-task-assignee').value, 
                startDate: document.getElementById('edit-task-start-date').value, 
                endDate: document.getElementById('edit-task-end-date').value 
            };
            try { await updateDoc(doc(db, taskDocPath), updatedData); editTaskModal.classList.add('hidden'); } 
            catch (error) { console.error("GÃ¶revi gÃ¼ncelleme hatasÄ±:", error); }
        });
        
        function showCompleteTaskModal(e) {
            const taskId = e.currentTarget.dataset.id;
            document.getElementById('completion-task-id').value = taskId;
            addCompletionNoteModal.classList.remove('hidden');
        }

        addCompletionNoteForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const taskId = document.getElementById('completion-task-id').value;
            const note = document.getElementById('completion-note-description').value.trim();
            if (!taskId || !note) {
                console.error("LÃ¼tfen bir tamamlama notu girin.");
                return;
            }
            
            try {
                await updateDoc(doc(db, `/artifacts/${appId}/public/data/tasks/${taskId}`), { 
                    status: 'completed',
                    completionNote: note,
                    completedAt: serverTimestamp()
                });
                addCompletionNoteForm.reset();
                addCompletionNoteModal.classList.add('hidden');
            } catch(error) { 
                console.error("GÃ¶revi tamamlama hatasÄ±:", error); 
                console.error("GÃ¶rev tamamlanÄ±rken bir hata oluÅŸtu.");
            }
        });
        
        async function handleDeleteTask(e) {
            const docId = e.currentTarget.dataset.id;
            try { await deleteDoc(doc(db, `/artifacts/${appId}/public/data/tasks/${docId}`)); }
            catch(error) { console.error("GÃ¶revi silme hatasÄ±:", error); }
        }

        addEventForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            try {
                await addDoc(collection(db, `/artifacts/${appId}/public/data/tasks`), { job: document.getElementById('event-job').value.trim(), assignee: document.getElementById('event-assignee').value.trim(), dueDate: selectedDateForEvent, type: 'event', createdAt: serverTimestamp() });
                addEventForm.reset(); addEventModal.classList.add('hidden');
            } catch (error) { console.error("Ä°ÅŸ ekleme hatasÄ±:", error); }
        });
        
        const renderGlobalCalendar = () => {
            drawCalendar(globalCalendarGrid, globalMonthYearDisplay, globalCalendarDate);
            renderMonthEventsList(globalCalendarDate);
        }

        function drawCalendar(grid, display, date) {
            grid.innerHTML = '';
            const year = date.getFullYear(); const month = date.getMonth();
            display.textContent = `${new Intl.DateTimeFormat('tr-TR', { month: 'long', year: 'numeric' }).format(date)}`;
            const firstDayOfMonth = new Date(year, month, 1);
            const daysInMonth = new Date(year, month + 1, 0).getDate();
            const dateOffset = (firstDayOfMonth.getDay() + 6) % 7;
            for (let i = 0; i < dateOffset; i++) { grid.innerHTML += `<div class="border border-gray-700/50"></div>`; }
            for (let day = 1; day <= daysInMonth; day++) {
                const dayDiv = document.createElement('div');
                const fullDateStr = `${year}-${String(month + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
                dayDiv.className = 'calendar-day border border-gray-700/50 p-2 flex flex-col';
                const dayNumberSpan = document.createElement('span');
                dayNumberSpan.textContent = day;
                dayNumberSpan.className = 'font-semibold text-gray-300 self-start mb-1';
                const today = new Date();
                 if (day === today.getDate() && month === today.getMonth() && year === today.getFullYear()) { dayNumberSpan.classList.add('bg-blue-600', 'text-white', 'rounded-full', 'w-6', 'h-6', 'flex', 'items-center', 'justify-center'); }
                dayDiv.appendChild(dayNumberSpan);
                const eventsContainer = document.createElement('div');
                eventsContainer.className = 'space-y-1 overflow-hidden flex-grow';
                allUserTasks.filter(t => t.type === 'event' && t.dueDate === fullDateStr).forEach(event => { const eventEl = document.createElement('div'); eventEl.className = 'calendar-event'; eventEl.textContent = event.job; eventsContainer.appendChild(eventEl); });
                allUserTasks.filter(t => { if (t.type !== 'task' || t.status === 'completed') return false; const currentDate = new Date(fullDateStr + 'T00:00:00'); return currentDate >= new Date(t.startDate + 'T00:00:00') && currentDate <= new Date(t.endDate + 'T00:00:00'); }).forEach(task => { const taskEl = document.createElement('div'); taskEl.className = 'calendar-task'; taskEl.textContent = task.name; eventsContainer.appendChild(taskEl); });
                dayDiv.appendChild(eventsContainer);
                dayDiv.addEventListener('click', () => openAddEventModal(fullDateStr));
                grid.appendChild(dayDiv);
            }
        }
        
        globalPrevMonthBtn.addEventListener('click', () => { globalCalendarDate.setMonth(globalCalendarDate.getMonth() - 1); renderGlobalCalendar(); });
        globalNextMonthBtn.addEventListener('click', () => { globalCalendarDate.setMonth(globalCalendarDate.getMonth() + 1); renderGlobalCalendar(); });
        
        function renderMonthEventsList(date) {
            const year = date.getFullYear();
            const month = date.getMonth();
            const monthEvents = allUserTasks.filter(t => { if (t.type !== 'event') return false; const eventDate = new Date(t.dueDate + 'T00:00:00'); return eventDate.getFullYear() === year && eventDate.getMonth() === month; }).sort((a, b) => new Date(a.dueDate) - new Date(b.dueDate));
            monthlyEventsList.innerHTML = monthEvents.length === 0 ? '<p class="text-gray-500 text-center">Bu ay iÃ§in planlanmÄ±ÅŸ iÅŸ yok.</p>' : monthEvents.map(event => `<div class="bg-gray-800/80 p-3 rounded-xl border border-gray-700 flex justify-between items-center"><div><p class="font-semibold text-white">${new Date(event.dueDate + 'T00:00:00').toLocaleDateString('tr-TR', {day: 'numeric', month: 'long'})}: ${event.job}</p><p class="text-sm text-gray-400">Sorumlu: ${event.assignee}</p></div><div class="flex items-center space-x-3"><button data-id="${event.id}" class="edit-event-btn text-gray-400 hover:text-blue-400 transition"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.5L16.732 3.732z"></path></svg></button><button data-id="${event.id}" class="delete-event-btn text-gray-500 hover:text-red-500 transition"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" /></svg></button></div></div>`).join('');
            document.querySelectorAll('.edit-event-btn').forEach(btn => btn.addEventListener('click', showEditEventModal));
            document.querySelectorAll('.delete-event-btn').forEach(btn => btn.addEventListener('click', handleDeleteEvent));
        }

        function showEditEventModal(e) {
            const eventId = e.currentTarget.dataset.id;
            const event = allUserTasks.find(t => t.id === eventId);
            if (event) {
                document.getElementById('edit-event-id').value = eventId;
                document.getElementById('edit-event-job').value = event.job;
                document.getElementById('edit-event-assignee').value = event.assignee;
                document.getElementById('edit-event-date').value = event.dueDate;
                editEventModal.classList.remove('hidden');
            }
        }

        editEventForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const eventId = document.getElementById('edit-event-id').value;
            if (!eventId) return;
            const eventDocPath = `/artifacts/${appId}/public/data/tasks/${eventId}`;
            const updatedData = { job: document.getElementById('edit-event-job').value.trim(), assignee: document.getElementById('edit-event-assignee').value.trim(), dueDate: document.getElementById('edit-event-date').value };
            try { await updateDoc(doc(db, eventDocPath), updatedData); editEventModal.classList.add('hidden'); } 
            catch (error) { console.error("Ä°ÅŸi gÃ¼ncelleme hatasÄ±:", error); }
        });

        async function handleDeleteEvent(e) {
            const eventId = e.currentTarget.dataset.id;
            try { await deleteDoc(doc(db, `/artifacts/${appId}/public/data/tasks/${eventId}`)); }
            catch (error) { console.error("Ä°ÅŸi silme hatasÄ±:", error); }
        }

        function renderCanvasItems() {
            canvasItemsList.innerHTML = allCanvasItems.length === 0 ? '<p class="text-gray-500 text-center">HenÃ¼z bir Ã¶ÄŸe eklenmemiÅŸ.</p>' : allCanvasItems.map(item => `<div class="bg-gray-800/80 p-4 rounded-xl shadow-md border border-gray-700 flex justify-between items-center"><div><p class="font-semibold text-white">${item.title}</p>${item.link ? `<a href="${item.link}" target="_blank" class="text-sm text-blue-400 hover:underline break-all">${item.link}</a>` : ''}</div><button data-id="${item.id}" class="delete-canvas-item-btn bg-red-600/80 hover:bg-red-700 text-white px-3 py-2 rounded-md text-xs font-bold">Sil</button></div>`).join('');
            document.querySelectorAll('.delete-canvas-item-btn').forEach(btn => btn.addEventListener('click', handleDeleteCanvasItem));
        }

        addCanvasItemForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            try { await addDoc(collection(db, `/artifacts/${appId}/public/data/canvasItems`), { title: document.getElementById('canvas-item-title').value.trim(), link: document.getElementById('canvas-item-link').value.trim(), createdAt: serverTimestamp() }); addCanvasItemForm.reset(); addCanvasItemModal.classList.add('hidden'); } 
            catch (error) { console.error("Canvas Ã¶ÄŸesi ekleme hatasÄ±:", error); }
        });

        async function handleDeleteCanvasItem(e) {
            const docId = e.currentTarget.dataset.id;
            try { await deleteDoc(doc(db, `/artifacts/${appId}/public/data/canvasItems/${docId}`)); }
            catch (error) { console.error("Canvas Ã¶ÄŸesi silme hatasÄ±:", error); }
        }

        function renderLinks() {
            linksList.innerHTML = allLinks.length === 0 ? '<p class="text-gray-500 text-center">HenÃ¼z bir link eklenmemiÅŸ.</p>' : allLinks.map(link => `<div class="bg-gray-800/80 p-4 rounded-xl shadow-md border border-gray-700 flex justify-between items-center"><div><p class="font-semibold text-white">${link.title}</p><a href="${link.url}" target="_blank" class="text-sm text-blue-400 hover:underline break-all">${link.url}</a></div><button data-id="${link.id}" class="delete-link-btn bg-red-600/80 hover:bg-red-700 text-white px-3 py-2 rounded-md text-xs font-bold">Sil</button></div>`).join('');
            document.querySelectorAll('.delete-link-btn').forEach(btn => btn.addEventListener('click', handleDeleteLink));
        }
        
        addLinkForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            try { await addDoc(collection(db, `/artifacts/${appId}/public/data/links`), { title: document.getElementById('link-item-title').value.trim(), url: document.getElementById('link-item-url').value.trim(), createdAt: serverTimestamp() }); addLinkForm.reset(); addLinkModal.classList.add('hidden'); } 
            catch (error) { console.error("Link ekleme hatasÄ±:", error); }
        });

        async function handleDeleteLink(e) {
            const docId = e.currentTarget.dataset.id;
            try { await deleteDoc(doc(db, `/artifacts/${appId}/public/data/links/${docId}`)); }
            catch (error) { console.error("Link silme hatasÄ±:", error); }
        }
        
        function getFileTypeIcon(fileName) {
            if (fileName && (fileName.startsWith('http') || fileName.startsWith('www'))) {
                 return `<svg class="w-12 h-12 text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"></path></svg>`;
            }
            const extension = fileName ? fileName.split('.').pop().toLowerCase() : '';
            if (['jpg', 'jpeg', 'png', 'gif', 'webp'].includes(extension)) return `<svg class="w-12 h-12 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>`;
            if (['pdf'].includes(extension)) return `<svg class="w-12 h-12 text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>`;
            if (['doc', 'docx'].includes(extension)) return `<svg class="w-12 h-12 text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>`;
            return `<svg class="w-12 h-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"></path></svg>`;
        }

        function renderFiles() {
            filesList.innerHTML = allFiles.length === 0 ? '<p class="text-gray-500 text-center col-span-full">HenÃ¼z dosya/link eklenmemiÅŸ.</p>' :
                allFiles.map(file => {
                    const icon = getFileTypeIcon(file.url)
                    return `
                    <div class="relative bg-gray-800/80 p-4 rounded-xl border border-gray-700 flex flex-col items-center justify-center aspect-square text-center group">
                        <a href="${file.url}" target="_blank" class="flex flex-col items-center justify-center h-full">
                            ${icon}
                            <p class="font-semibold text-white mt-2 text-sm break-all">${file.title}</p>
                        </a>
                        <button data-id="${file.id}" data-path="${file.path || ''}" class="delete-file-btn absolute top-2 right-2 bg-red-600/80 hover:bg-red-700 text-white w-6 h-6 rounded-full text-xs font-bold opacity-0 group-hover:opacity-100 transition-opacity">X</button>
                    </div>`;
                }).join('');
            document.querySelectorAll('.delete-file-btn').forEach(btn => btn.addEventListener('click', handleDeleteFile));
        }

        addGeneralFileForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const submitBtn = addGeneralFileForm.querySelector('button[type="submit"]');
            const title = document.getElementById('general-file-title').value.trim();
            const url = document.getElementById('general-file-url').value.trim();
            if (!url || !title) return;

            submitBtn.disabled = true;
            submitBtn.textContent = 'Kaydediliyor...';
            
            try {
                await addDoc(collection(db, `/artifacts/${appId}/public/data/files`), {
                    title: title,
                    name: url,
                    url: url,
                    createdAt: serverTimestamp()
                });
                addGeneralFileForm.reset();
                addGeneralFileModal.classList.add('hidden');
            } catch (error) {
                console.error("Link ekleme hatasÄ±:", error);
                console.error("Link kaydedilirken bir hata oluÅŸtu.");
            } finally {
                submitBtn.disabled = false;
                submitBtn.textContent = 'Kaydet';
            }
        });

        async function handleDeleteFile(e) {
            const docId = e.currentTarget.dataset.id;
            const filePath = e.currentTarget.dataset.path;
            
            try {
                if (filePath && filePath !== 'undefined' && !filePath.startsWith('http')) {
                    const fileRef = ref(storage, filePath);
                    await deleteObject(fileRef);
                }
                await deleteDoc(doc(db, `/artifacts/${appId}/public/data/files/${docId}`));
            } catch (error) {
                console.error("Dosya/link silme hatasÄ±:", error);
                if (error.code === 'storage/object-not-found') {
                    await deleteDoc(doc(db, `/artifacts/${appId}/public/data/files/${docId}`));
                } else {
                    console.error("Ã–ÄŸe silinirken bir hata oluÅŸtu. LÃ¼tfen konsolu kontrol edin.");
                }
            }
        }
        
        function renderCodes() {
            codesList.innerHTML = allCodes.length === 0 ? '<p class="text-gray-500 text-center">HenÃ¼z kod eklenmemiÅŸ.</p>' : allCodes.map(code => {
                const date = code.createdAt ? code.createdAt.toDate().toLocaleString('tr-TR') : 'Tarih yok';
                return `
                <div class="bg-gray-800/80 p-4 rounded-xl shadow-md border border-gray-700">
                     <div class="flex justify-between items-start mb-2">
                        <div>
                            <h4 class="font-bold text-lg text-white">${code.title}</h4>
                             <a href="${code.link}" target="_blank" class="text-sm text-blue-400 hover:underline break-all">${code.link}</a>
                        </div>
                        <button data-id="${code.id}" class="delete-code-btn text-gray-500 hover:text-red-500 transition flex-shrink-0"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" /></svg></button>
                    </div>
                </div>`;
            }).join('');
            document.querySelectorAll('.delete-code-btn').forEach(btn => btn.addEventListener('click', handleDeleteCode));
        }

        addCodeForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const title = document.getElementById('code-title').value.trim();
            const link = document.getElementById('code-link').value.trim();
            if (!title || !link) return;
            try {
                await addDoc(collection(db, `/artifacts/${appId}/public/data/codes`), {
                    title: title,
                    link: link,
                    createdAt: serverTimestamp()
                });
                addCodeForm.reset();
                addCodeModal.classList.add('hidden');
            } catch (error) {
                console.error("Kod ekleme hatasÄ±:", error);
            }
        });

        async function handleDeleteCode(e) {
            const docId = e.currentTarget.dataset.id;
            try {
                await deleteDoc(doc(db, `/artifacts/${appId}/public/data/codes/${docId}`));
            } catch (error) {
                console.error("Kod silme hatasÄ±:", error);
            }
        }

        function renderDailyReports() {
            const sortedReports = allDailyReports.sort((a, b) => new Date(b.date) - new Date(a.date));
            allReportsList.innerHTML = sortedReports.length === 0 ? '<p class="text-gray-500 text-center">GeÃ§miÅŸ rapor bulunmuyor.</p>' : sortedReports.map(report => {
                const items = report.content.split('\n').filter(item => item.trim() !== '');
                const itemsHtml = items.map(item => `<li class="text-gray-300">${item}</li>`).join('');
                return `
                <div class="bg-gray-800/50 p-4 rounded-xl border border-gray-700/50">
                     <div class="flex justify-between items-start">
                        <p class="font-semibold text-white">${new Date(report.date + 'T00:00:00').toLocaleDateString('tr-TR', { day: '2-digit', month: 'long', year: 'numeric' })} - <span class="capitalize font-bold">${report.name}</span></p>
                        <div class="flex space-x-2">
                            <button data-id="${report.id}" class="edit-report-btn text-gray-400 hover:text-blue-400 transition"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.5L16.732 3.732z"></path></svg></button>
                            <button data-id="${report.id}" class="delete-report-btn text-gray-500 hover:text-red-500 transition"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" /></svg></button>
                        </div>
                    </div>
                    <ul class="list-disc list-inside mt-2 space-y-1">
                        ${itemsHtml}
                    </ul>
                </div>`;
            }).join('');

            document.querySelectorAll('.edit-report-btn').forEach(btn => btn.addEventListener('click', showEditReportModal));
            document.querySelectorAll('.delete-report-btn').forEach(btn => btn.addEventListener('click', handleDeleteReport));
        }

        function showEditReportModal(e) {
            const reportId = e.currentTarget.dataset.id;
            const report = allDailyReports.find(r => r.id === reportId);
            if (report) {
                document.getElementById('edit-report-id').value = reportId;
                document.getElementById('edit-report-content').value = report.content;
                editReportModal.classList.remove('hidden');
            }
        }

        editReportForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const reportId = document.getElementById('edit-report-id').value;
            const content = document.getElementById('edit-report-content').value.trim();
            if (!reportId) return;

            const reportDocRef = doc(db, `/artifacts/${appId}/public/data/dailyReports/${reportId}`);
            try {
                await updateDoc(reportDocRef, { content: content });
                editReportModal.classList.add('hidden');
            } catch (error) {
                console.error("Rapor gÃ¼ncellenirken hata:", error);
                console.error("Rapor gÃ¼ncellenirken bir hata oluÅŸtu.");
            }
        });

        async function handleDeleteReport(e) {
            const reportId = e.currentTarget.dataset.id;
            try {
                await deleteDoc(doc(db, `/artifacts/${appId}/public/data/dailyReports/${reportId}`));
            } catch (error) {
                console.error("Rapor silinirken hata:", error);
                console.error("Rapor silinirken bir hata oluÅŸtu.");
            }
        }

        document.getElementById('save-report-btn').addEventListener('click', async (e) => {
            const name = document.getElementById('report-name-select').value;
            const textarea = document.getElementById('daily-report-content');
            const content = textarea.value.trim();
            const todayStr = new Date().toISOString().split('T')[0];
            const docId = `${name}-${todayStr}`;
            
            if (!content) {
                console.error("Rapor iÃ§eriÄŸi boÅŸ olamaz.");
                return;
            }

            try {
                await setDoc(doc(db, `/artifacts/${appId}/public/data/dailyReports`, docId), {
                    name: name,
                    content: content,
                    date: todayStr
                });
                textarea.value = '';
                e.target.textContent = 'Kaydedildi!';
                setTimeout(() => { e.target.textContent = 'Kaydet'; }, 2000);
            } catch (error) {
                console.error(`${name} iÃ§in rapor kaydedilemedi:`, error);
                console.error("Rapor kaydedilirken bir hata oluÅŸtu.");
            }
        });
        
        // --- BÃœTÃ‡E FONKSÄ°YONLARI ---
        
        const frequencyMap = {
            daily: 'GÃ¼nlÃ¼k',
            weekly: 'HaftalÄ±k',
            monthly: 'AylÄ±k',
            yearly: 'YÄ±llÄ±k'
        };

        function formatCurrency(amount) {
            return new Intl.NumberFormat('tr-TR', { style: 'currency', currency: 'TRY' }).format(amount);
        }

        function showBudgetList(listType) {
            document.querySelectorAll('.budget-list-wrapper').forEach(el => el.classList.add('hidden'));
            document.querySelectorAll('.budget-summary-box').forEach(el => el.classList.remove('active-box'));
            
            if (listType === 'total-income') {
                document.getElementById('income-list-container').classList.remove('hidden');
                 document.getElementById('regular-income-list-container').classList.add('hidden');
                totalIncomeSummaryBox.classList.add('active-box');
            } else if (listType === 'regular-income') {
                document.getElementById('regular-income-list-container').classList.remove('hidden');
                 document.getElementById('income-list-container').classList.add('hidden');
                regularIncomeSummaryBox.classList.add('active-box');
            } else if (listType === 'expense') {
                document.getElementById('expense-list-container').classList.remove('hidden');
                normalExpenseSummaryBox.classList.add('active-box');
            } else if (listType === 'fixed-expense') {
                document.getElementById('fixed-expense-list-container').classList.remove('hidden');
                fixedExpenseSummaryBox.classList.add('active-box');
            }
        }
        
        totalIncomeSummaryBox.addEventListener('click', () => showBudgetList('total-income'));
        regularIncomeSummaryBox.addEventListener('click', () => showBudgetList('regular-income'));
        normalExpenseSummaryBox.addEventListener('click', () => showBudgetList('expense'));
        fixedExpenseSummaryBox.addEventListener('click', () => showBudgetList('fixed-expense'));

        function renderBudget() {
            const normalIncome = allIncome.filter(i => i.type !== 'regular').sort((a, b) => new Date(b.date) - new Date(a.date));
            const regularIncome = allIncome.filter(i => i.type === 'regular').sort((a, b) => new Date(b.date) - new Date(a.date));
            const normalExpenses = allExpenses.filter(e => e.type !== 'fixed').sort((a, b) => new Date(b.date) - new Date(a.date));
            const fixedExpenses = allExpenses.filter(e => e.type === 'fixed').sort((a, b) => new Date(b.date) - new Date(a.date));

            incomeList.innerHTML = normalIncome.length === 0 ? '<p class="text-gray-500 text-center">HenÃ¼z normal gelir eklenmemiÅŸ.</p>' : normalIncome.map(item => `
                <div class="bg-gray-800/80 p-3 rounded-xl border border-gray-700 flex justify-between items-center">
                    <div>
                        <p class="font-semibold text-white">${item.description}</p>
                        <p class="text-sm text-gray-400">${new Date(item.date + 'T00:00:00').toLocaleDateString('tr-TR')}</p>
                    </div>
                    <div class="flex items-center space-x-3">
                        <span class="font-semibold text-green-400">${formatCurrency(item.amount)}</span>
                        <button data-id="${item.id}" class="delete-income-btn text-gray-500 hover:text-red-500 transition"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg></button>
                    </div>
                </div>
            `).join('');
            
            regularIncomeList.innerHTML = regularIncome.length === 0 ? '<p class="text-gray-500 text-center">HenÃ¼z dÃ¼zenli gelir eklenmemiÅŸ.</p>' : regularIncome.map(item => `
                <div class="bg-gray-800/80 p-3 rounded-xl border border-gray-700 flex justify-between items-center">
                    <div>
                        <p class="font-semibold text-white">${item.description} <span class="text-xs text-cyan-400 font-normal">(${frequencyMap[item.frequency] || ''})</span></p>
                        <p class="text-sm text-gray-400">${new Date(item.date + 'T00:00:00').toLocaleDateString('tr-TR')}</p>
                    </div>
                    <div class="flex items-center space-x-3">
                        <span class="font-semibold text-cyan-400">${formatCurrency(item.amount)}</span>
                        <button data-id="${item.id}" class="delete-income-btn text-gray-500 hover:text-red-500 transition"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg></button>
                    </div>
                </div>
            `).join('');

            expenseList.innerHTML = normalExpenses.length === 0 ? '<p class="text-gray-500 text-center">HenÃ¼z normal gider eklenmemiÅŸ.</p>' : normalExpenses.map(item => `
                 <div class="bg-gray-800/80 p-3 rounded-xl border border-gray-700 flex justify-between items-start">
                    <div>
                        <p class="font-semibold text-white">${item.description}</p>
                        <p class="text-xs text-purple-400">${item.category || 'Kategorisiz'}</p>
                        <p class="text-sm text-gray-400 mt-1">${new Date(item.date + 'T00:00:00').toLocaleDateString('tr-TR')}</p>
                    </div>
                     <div class="flex items-center space-x-3">
                        <span class="font-semibold text-red-400">${formatCurrency(item.amount)}</span>
                        <button data-id="${item.id}" data-type="expense" class="delete-budget-item-btn text-gray-500 hover:text-red-500 transition"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg></button>
                    </div>
                </div>
            `).join('');
            
            fixedExpenseList.innerHTML = fixedExpenses.length === 0 ? '<p class="text-gray-500 text-center">HenÃ¼z sabit gider eklenmemiÅŸ.</p>' : fixedExpenses.map(item => `
                 <div class="bg-gray-800/80 p-3 rounded-xl border border-gray-700 flex justify-between items-start">
                    <div>
                        <p class="font-semibold text-white">${item.description} <span class="text-xs text-yellow-400 font-normal">(${frequencyMap[item.frequency] || ''})</span></p>
                        <p class="text-xs text-purple-400">${item.category || 'Kategorisiz'}</p>
                        <p class="text-sm text-gray-400 mt-1">${new Date(item.date + 'T00:00:00').toLocaleDateString('tr-TR')}</p>
                    </div>
                     <div class="flex items-center space-x-3">
                        <span class="font-semibold text-yellow-400">${formatCurrency(item.amount)}</span>
                        <button data-id="${item.id}" data-type="expense" class="delete-budget-item-btn text-gray-500 hover:text-red-500 transition"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg></button>
                    </div>
                </div>
            `).join('');
            
            updateBudgetStats();
            document.querySelectorAll('.delete-income-btn').forEach(btn => btn.addEventListener('click', (e) => handleDeleteBudget(e, 'income')));
            document.querySelectorAll('.delete-budget-item-btn').forEach(btn => btn.addEventListener('click', (e) => handleDeleteBudget(e, 'expenses')));
        }

        function updateBudgetStats() {
            const totalIncome = allIncome.reduce((sum, item) => sum + item.amount, 0);
            const totalRegularIncome = allIncome.filter(i => i.type === 'regular').reduce((sum, item) => sum + item.amount, 0);
            const totalNormalExpense = allExpenses.filter(e => e.type !== 'fixed').reduce((sum, item) => sum + item.amount, 0);
            const totalFixedExpense = allExpenses.filter(e => e.type === 'fixed').reduce((sum, item) => sum + item.amount, 0);
            const balance = totalIncome - (totalNormalExpense + totalFixedExpense);
            
            totalIncomeStat.textContent = formatCurrency(totalIncome);
            regularIncomeStat.textContent = formatCurrency(totalRegularIncome);
            normalExpenseStat.textContent = formatCurrency(totalNormalExpense);
            fixedExpenseStat.textContent = formatCurrency(totalFixedExpense);
            balanceStat.textContent = formatCurrency(balance);
            balanceStat.classList.toggle('text-red-400', balance < 0);
            balanceStat.classList.toggle('text-white', balance >= 0);
        }

        document.getElementById('income-type').addEventListener('change', (e) => {
            document.getElementById('income-frequency-container').classList.toggle('hidden', e.target.value !== 'regular');
        });

        addIncomeForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const incomeType = document.getElementById('income-type').value;
            const newIncome = {
                description: document.getElementById('income-description').value.trim(),
                amount: parseFloat(document.getElementById('income-amount').value),
                date: document.getElementById('income-date').value,
                type: incomeType,
                createdAt: serverTimestamp()
            };
             if (incomeType === 'regular') {
                newIncome.frequency = document.getElementById('income-frequency').value;
            }
            try {
                await addDoc(collection(db, `/artifacts/${appId}/public/data/income`), newIncome);
                addIncomeForm.reset();
                addIncomeModal.classList.add('hidden');
            } catch (error) {
                console.error("Gelir eklenirken hata oluÅŸtu:", error);
            }
        });

        document.getElementById('expense-type').addEventListener('change', (e) => {
            const frequencyContainer = document.getElementById('expense-frequency-container');
            if (e.target.value === 'fixed') {
                frequencyContainer.classList.remove('hidden');
            } else {
                frequencyContainer.classList.add('hidden');
            }
        });

        addExpenseForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const expenseType = document.getElementById('expense-type').value;
            const newExpense = {
                description: document.getElementById('expense-description').value.trim(),
                amount: parseFloat(document.getElementById('expense-amount').value),
                date: document.getElementById('expense-date').value,
                category: document.getElementById('expense-category').value,
                type: expenseType,
                createdAt: serverTimestamp()
            };

            if (expenseType === 'fixed') {
                newExpense.frequency = document.getElementById('expense-frequency').value;
            }

            try {
                await addDoc(collection(db, `/artifacts/${appId}/public/data/expenses`), newExpense);
                addExpenseForm.reset();
                addExpenseModal.classList.add('hidden');
            } catch (error) {
                console.error("Gider eklenirken hata oluÅŸtu:", error);
            }
        });

        async function handleDeleteBudget(e, type) {
            const docId = e.currentTarget.dataset.id;
            try {
                await deleteDoc(doc(db, `/artifacts/${appId}/public/data/${type}/${docId}`));
            } catch (error) {
                console.error(`${type} silinirken hata oluÅŸtu:`, error);
            }
        }

        // Category Management
        function renderCategoryManagementList() {
            categoryList.innerHTML = allExpenseCategories.map(cat => `
                <div class="flex justify-between items-center bg-gray-700 p-2 rounded-md">
                    <span class="text-white">${cat.name}</span>
                    <button data-id="${cat.id}" class="delete-category-btn text-gray-400 hover:text-red-500">&times;</button>
                </div>
            `).join('');
            document.querySelectorAll('.delete-category-btn').forEach(btn => {
                btn.addEventListener('click', handleDeleteCategory);
            });
        }
        
        function updateCategoryDropdown() {
            const dropdown = document.getElementById('expense-category');
            dropdown.innerHTML = '<option value="">Kategori SeÃ§in</option>'; // Reset
            allExpenseCategories.forEach(cat => {
                const option = document.createElement('option');
                option.value = cat.name;
                option.textContent = cat.name;
                dropdown.appendChild(option);
            });
        }

        addCategoryForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const categoryNameInput = document.getElementById('category-name');
            const categoryName = categoryNameInput.value.trim();
            if (categoryName) {
                try {
                    await addDoc(collection(db, `/artifacts/${appId}/public/data/expenseCategories`), { name: categoryName });
                    categoryNameInput.value = '';
                } catch (error) {
                    console.error("Kategori eklenemedi:", error);
                }
            }
        });

        async function handleDeleteCategory(e) {
            const docId = e.currentTarget.dataset.id;
            try {
                await deleteDoc(doc(db, `/artifacts/${appId}/public/data/expenseCategories/${docId}`));
            } catch (error) {
                console.error("Kategori silinemedi:", error);
            }
        }
        
        // --- PAZARLAMA FONKSÄ°YONLARI ---

        function renderMarketing() {
            const potentialLeads = allLeads.filter(l => l.status === 'potential');
            const activeLeads = allLeads.filter(l => l.status === 'active');
            const rejectedLeads = allLeads.filter(l => l.status === 'rejected');
            const completedLeads = allLeads.filter(l => l.status === 'completed');

            leadsList.innerHTML = potentialLeads.length === 0 ? '<p class="text-gray-500 text-center">Potansiyel mÃ¼ÅŸteri bulunmuyor.</p>' : potentialLeads.map(lead => `
                <div class="bg-gray-800/80 p-3 rounded-xl border border-gray-700 flex flex-col sm:flex-row items-start sm:items-center justify-between text-sm">
                    <div class="grid grid-cols-2 sm:grid-cols-5 gap-2 flex-1 w-full mb-2 sm:mb-0">
                        <div class="truncate sm:col-span-1"><strong class="sm:hidden">Ä°ÅŸletme: </strong>${lead.businessName}</div>
                        <div class="truncate sm:col-span-1"><strong class="sm:hidden">Sorumlu: </strong>${lead.contactPerson}</div>
                        <div class="truncate sm:col-span-1"><strong class="sm:hidden">Ä°letiÅŸim: </strong>${lead.contactInfo}</div>
                        <div class="truncate sm:col-span-1"><strong class="sm:hidden">SektÃ¶r: </strong>${lead.sector}</div>
                        <div class="sm:col-span-1">
                            <select data-id="${lead.id}" class="lead-progress-status-select text-xs w-full bg-gray-700/80 border-gray-600 text-white rounded-md p-1 focus:ring-1 focus:ring-purple-500 focus:outline-none">
                                <option value="Bekliyor" ${lead.progressStatus === 'Bekliyor' ? 'selected' : ''}>Bekliyor</option>
                                <option value="Ä°letiÅŸim SaÄŸlandÄ±" ${lead.progressStatus === 'Ä°letiÅŸim SaÄŸlandÄ±' ? 'selected' : ''}>Ä°letiÅŸim SaÄŸlandÄ±</option>
                                <option value="GÃ¶rÃ¼ÅŸÃ¼lÃ¼yor" ${lead.progressStatus === 'GÃ¶rÃ¼ÅŸÃ¼lÃ¼yor' ? 'selected' : ''}>GÃ¶rÃ¼ÅŸÃ¼lÃ¼yor</option>
                            </select>
                        </div>
                    </div>
                    <div class="flex items-center space-x-2 ml-auto sm:ml-4">
                        <button data-id="${lead.id}" class="approve-lead-btn text-green-400 hover:text-green-300 transition p-1 rounded-full hover:bg-green-500/20">
                           <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" /></svg>
                        </button>
                        <button data-id="${lead.id}" class="reject-lead-btn text-red-500 hover:text-red-400 transition p-1 rounded-full hover:bg-red-500/20">
                           <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" /></svg>
                        </button>
                    </div>
                </div>
            `).join('');

            activeCustomersList.innerHTML = activeLeads.length === 0 ? '<p class="text-gray-500 text-center col-span-full">Aktif mÃ¼ÅŸteri bulunmuyor.</p>' : activeLeads.map(lead => `
                <div class="bg-gray-800/80 p-4 rounded-xl shadow-lg border border-gray-700 flex flex-col justify-between">
                    <div>
                        <h4 class="font-bold text-base text-white truncate">${lead.businessName}</h4>
                        <p class="text-xs text-gray-400 truncate">${lead.sector}</p>
                    </div>
                    <div class="text-xs text-gray-300 mt-2">
                        <p class="truncate">${lead.contactPerson}</p>
                        <p class="truncate">${lead.contactInfo}</p>
                    </div>
                    <div class="flex items-center justify-end gap-2 mt-3 pt-2 border-t border-gray-700/50">
                        <button data-id="${lead.id}" class="complete-lead-btn bg-green-600 hover:bg-green-700 text-white px-2 py-1 text-xs rounded-md">TamamlandÄ±</button>
                        <button data-id="${lead.id}" class="edit-lead-btn text-gray-400 hover:text-blue-400 p-1"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.5L16.732 3.732z"></path></svg></button>
                        <button data-id="${lead.id}" class="delete-lead-btn text-gray-400 hover:text-red-500 p-1"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" /></svg></button>
                    </div>
                </div>
            `).join('');
            
            completedCustomersList.innerHTML = completedLeads.length === 0 ? '<p class="text-gray-500 text-center">Tamamlanan mÃ¼ÅŸteri bulunmuyor.</p>' : completedLeads.map(lead => `
                <div class="bg-gray-800/60 p-3 rounded-xl border border-gray-700/60 flex items-center justify-between text-sm text-gray-400">
                    <div class="grid grid-cols-2 sm:grid-cols-4 gap-2 flex-1 w-full">
                        <div class="truncate">${lead.businessName}</div>
                        <div class="truncate">${lead.contactPerson}</div>
                        <div class="truncate">${lead.contactInfo}</div>
                        <div class="truncate">${lead.sector}</div>
                    </div>
                    <button data-id="${lead.id}" class="delete-lead-btn text-gray-500 hover:text-red-500 transition ml-4">
                       <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" /></svg>
                    </button>
                </div>
            `).join('');

            rejectedLeadsList.innerHTML = rejectedLeads.length === 0 ? '<p class="text-gray-500 text-center">Reddedilen iÅŸletme bulunmuyor.</p>' : rejectedLeads.map(lead => `
                <div class="bg-gray-800/50 p-3 rounded-xl border border-gray-700/50 flex flex-col sm:flex-row items-center justify-between text-sm">
                    <div class="grid grid-cols-2 sm:grid-cols-4 gap-2 flex-1 w-full mb-2 sm:mb-0 text-gray-500 line-through">
                         <div class="truncate"><strong class="sm:hidden">Ä°ÅŸletme: </strong>${lead.businessName}</div>
                        <div class="truncate"><strong class="sm:hidden">Sorumlu: </strong>${lead.contactPerson}</div>
                        <div class="truncate"><strong class="sm:hidden">Ä°letiÅŸim: </strong>${lead.contactInfo}</div>
                        <div class="truncate"><strong class="sm:hidden">SektÃ¶r: </strong>${lead.sector}</div>
                    </div>
                    <button data-id="${lead.id}" class="delete-lead-btn text-gray-500 hover:text-red-500 transition ml-0 sm:ml-4 mt-2 sm:mt-0">
                       <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" /></svg>
                    </button>
                </div>
            `).join('');
            
            document.querySelectorAll('.approve-lead-btn').forEach(btn => btn.addEventListener('click', handleLeadStatusChange));
            document.querySelectorAll('.reject-lead-btn').forEach(btn => btn.addEventListener('click', handleLeadStatusChange));
            document.querySelectorAll('.complete-lead-btn').forEach(btn => btn.addEventListener('click', handleLeadStatusChange));
            document.querySelectorAll('.edit-lead-btn').forEach(btn => btn.addEventListener('click', showEditLeadModal));
            document.querySelectorAll('.delete-lead-btn').forEach(btn => btn.addEventListener('click', handleDeleteLead));
            document.querySelectorAll('.lead-progress-status-select').forEach(sel => sel.addEventListener('change', handleLeadProgressChange));
        }
        
        addLeadForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const newLead = {
                businessName: document.getElementById('lead-business-name').value.trim(),
                contactPerson: document.getElementById('lead-contact-person').value.trim(),
                contactInfo: document.getElementById('lead-contact-info').value.trim(),
                sector: document.getElementById('lead-sector').value.trim(),
                status: 'potential',
                progressStatus: 'Bekliyor',
                createdAt: serverTimestamp()
            };
            try {
                await addDoc(collection(db, `/artifacts/${appId}/public/data/marketingLeads`), newLead);
                addLeadForm.reset();
                addLeadModal.classList.add('hidden');
            } catch (error) {
                console.error("Ä°ÅŸletme eklenirken hata oluÅŸtu:", error);
            }
        });

        async function handleLeadProgressChange(e) {
            const docId = e.currentTarget.dataset.id;
            const newProgressStatus = e.currentTarget.value;
            try {
                await updateDoc(doc(db, `/artifacts/${appId}/public/data/marketingLeads/${docId}`), { progressStatus: newProgressStatus });
            } catch (error) {
                console.error("Ä°ÅŸletme ilerleme durumu gÃ¼ncellenirken hata oluÅŸtu:", error);
            }
        }

        function showEditLeadModal(e) {
            const docId = e.currentTarget.dataset.id;
            const lead = allLeads.find(l => l.id === docId);
            if(lead) {
                document.getElementById('edit-lead-id').value = lead.id;
                document.getElementById('edit-lead-business-name').value = lead.businessName;
                document.getElementById('edit-lead-contact-person').value = lead.contactPerson;
                document.getElementById('edit-lead-contact-info').value = lead.contactInfo;
                document.getElementById('edit-lead-sector').value = lead.sector;
                editLeadModal.classList.remove('hidden');
            }
        }

        editLeadForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const docId = document.getElementById('edit-lead-id').value;
            const updatedData = {
                businessName: document.getElementById('edit-lead-business-name').value.trim(),
                contactPerson: document.getElementById('edit-lead-contact-person').value.trim(),
                contactInfo: document.getElementById('edit-lead-contact-info').value.trim(),
                sector: document.getElementById('edit-lead-sector').value.trim(),
            };
            try {
                await updateDoc(doc(db, `/artifacts/${appId}/public/data/marketingLeads/${docId}`), updatedData);
                editLeadForm.reset();
                editLeadModal.classList.add('hidden');
            } catch (error) {
                console.error("MÃ¼ÅŸteri gÃ¼ncellenirken hata oluÅŸtu:", error);
            }
        });

        async function handleLeadStatusChange(e) {
            const docId = e.currentTarget.dataset.id;
            let newStatus = '';
            if (e.currentTarget.classList.contains('approve-lead-btn')) newStatus = 'active';
            if (e.currentTarget.classList.contains('reject-lead-btn')) newStatus = 'rejected';
            if (e.currentTarget.classList.contains('complete-lead-btn')) newStatus = 'completed';

            if (newStatus) {
                try {
                    await updateDoc(doc(db, `/artifacts/${appId}/public/data/marketingLeads/${docId}`), { status: newStatus });
                } catch (error) {
                    console.error("Ä°ÅŸletme durumu gÃ¼ncellenirken hata oluÅŸtu:", error);
                }
            }
        }
        
        async function handleDeleteLead(e) {
             const docId = e.currentTarget.dataset.id;
             try {
                await deleteDoc(doc(db, `/artifacts/${appId}/public/data/marketingLeads/${docId}`));
            } catch (error) {
                console.error("Ä°ÅŸletme silinirken hata oluÅŸtu:", error);
            }
        }

    </script>
</body>
</html>
